---
title: Shell编程速查
categories: '03_工具手册'
tags:
  - shell
date: 2018-06-12 00:59:02
---
# Shell编程速查

[TOC]

## 环境变量

### 设置、使用、取消

- `export`: 设置变量
- `env`: 显示当前所有变量
- `echo $PATH`: 显示PATH变量的值，前面加`$`
- `echo ${PATH}`: 同上
- `unset`: 取消设置变量

### 引号使用规则

- `' '`: 单引号包裹内容，所见即所得，不会执行其中的命令
- `" "`: 双引号中的变量和反引号内容会被执行。例如`echo "$PATH"`会显示PATH变量，而`echo '$PATH'`则不会
- `sed`与`grep`都遵循以上规则，但是`awk`比较特殊，如下：

#### awk特殊规则

但是，在`awk`中的定义正好**相反**，例如：

``` bash
TEST_ME=123
awk 'BEGIN {print '$TEST_ME'}'
  123
awk 'BEGIN {print "$TEST_ME"}'
  $TEST_ME
awk 'BEGIN {print $TEST_ME}'
  awk: illegal field $(), name "TEST_ME"
   source line number 1
# 两个比较特殊的情况
awk 'BEGIN {print '"$TEST_ME"'}'
  123
awk 'BGGIN {print "'$TEST_ME'"}'
  123
```

因此一半的做法是使用`echo`然后管道给`awk`，例如：

``` bash
TEST_ME=123
echo "$TEST_ME"|awk '{print $0}'
  123
echo '$TEST_ME'|awk '{print $0}'
  $TEST_ME
echo $TEST_ME|awk '{print $0}'
  123
```

### 特殊变量

`$0`: 当前执行shell脚本的文件名，包含路径则是路径
`$n`: 代表第n个参数，支持`$1..9`，大于9需要用`${10}`表示
`$#`: 代表参数总数量
`$*`: 代表所有参数，`"$*"`相当于`$1 $2 ..`
`$@`: 代表所有参数（因此不加引号同`$*`），`"$@"`相当于`"$1","$2"..`

## 声明

**版权：** 2018-now，:cn:，zangjiaao\<zangjiaao@yahoo.com>

由家浩创作并维护的`zangjiaao's blog`博客所有文章除特别声明外，均采用"创作共用保留署名-非商业-禁止演绎4.0国际[许可证](https://creativecommons.org/licenses/by-nc-nd/4.0/deed.zh)"。

本文首发于[zangjiaao's blog](https://blog.zangjiaao.cn/)博客，转载请注明出处。
