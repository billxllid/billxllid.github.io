---
title: WebGoat项目搭建
date: 2018-06-10 00:44:40
categories: '02_环境搭建'
tags:
- WebGoat
- DevOps
---

# WebGoat项目搭建

@[TOC]

## 简介

本次操作在mac下进行。主要是为了源码方式运行[WebGoat/WebGoat](https://github.com/WebGoat/WebGoat)，然后学习java代码审计。

## 准备

- **jdk安装:** 官网[下载](http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html)jdk8。然后配置环境变量，写到`/etc/profile`里。

``` shell
export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_171.jdk/Contents/Home
```

- **maven安装:** 官网[下载](http://maven.apache.org/download.cgi)二进制包。建议解压到`/usr/local/apache-maven`中。然后配置环境变量，写到`/etc/profile`里。随后使用`mvn -version`查看一下版本。

``` shell
export M2_HOME=/usr/local/apache-maven/apache-maven-3.5.3
export M2=$M2_HOME/bin
export MAVEN_OPTS="-Xms256m -Xmx512m"
export PATH=$M2:$PATH
```

## 部署WebGoat项目

依据[官网文档](https://github.com/WebGoat/WebGoat)中的方法。

- **下载源码:**

```
git clone git@github.com:WebGoat/WebGoat.git
```

- **部署:**

```
cd WebGoat
mvn clean install
```

mvn编译到xxe时候会报错，提示`maven-surefire-plugin`的`There are test failures`错误([参考](https://blog.csdn.net/u011134399/article/details/79103093))，需要在`pom.xml`文件中`build`节点下`plugins`节点中下添加下面内容：

``` xml
<plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-surefire-plugin</artifactId>
    <configuration>
        <testFailureIgnore>true</testFailureIgnore>
    </configuration>
</plugin>
```

- **运行:**

WebGoat使用Spring-boot启动：

```
# 运行webgoat-server
mvn -pl webgoat-server spring-boot:run
# 运行webwolf，注意这里的目录也是 WebGoat/
mvn -pl webwolf spring-boot:run
```

webgoat访问地址:

```
http://localhost:8080/WebGoat
```

webwolf访问地址:

```
http://127.0.0.1:8081/login
```

> **:book: 说明：** mvn参数：
>-am, --alsomake: 同时构建所列模块的依赖模块模块；
>-amd, --also-make-dependents: 同时构建依赖于所列模块的模块；
>-pl, --projects\<arg>: 构建指定模块，模块间用逗号分割；
>-rf, -resume-from\<arg>: 从指定的模块回复反应堆。

- **IDEA联动:** IDEA默认自带maven环境，不想用那个的话可以在IDEA中的终端，可以在设置中搜索maven更改环境路径。

## 声明

**版权：** 2018-now，:cn:，zangjiaao\<zangjiaao@yahoo.com>

由家浩创作并维护的`zangjiaao's blog`博客所有文章除特别声明外，均采用"创作共用保留署名-非商业-禁止演绎4.0国际[许可证](https://creativecommons.org/licenses/by-nc-nd/4.0/deed.zh)"。

本文首发于[zangjiaao's blog](https://blog.zangjiaao.cn/)博客，转载请注明出处。
