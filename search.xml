<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Hexo博客部署]]></title>
    <url>%2F2018%2F05%2F05%2FHexo%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2%2F</url>
    <content type="text"><![CDATA[开始 依赖 安装 初始化 主题 NexT 配置 文件说明 指令 _config.yml 分类 &amp; 标签 头像 浏览进度 拓展 （推荐）markdown-it-plus 插件 （不推荐）emoji支持 （不推荐）hexo-TOC 404页面 搜索 自动打开 VSCode 添加评论功能 其他功能 声明 开始 依赖 安装Git 安装Node.js 可参考官方文档。 安装 只需要使用npm安装hexo，默认带server了： 1npm install -g hexo-cli 初始化 创建站点基本文件。 12cd C:\Users\18354\OneDrive\hexo_bloghexo init 📖 说明：官方文档中还有一步npm install，实际在init时候就做好了。 主题 NexT 安装: 12cd hexo_bloggit clone https://github.com/theme-next/hexo-theme-next themes/next 更新: 12cd themes/nextgit pull 启用: 修改 站点 的_config.yml文件 1theme: next 配置 文件说明 _config.yml 站点主要配置文件。 package.json hexo所使用的组件信息。 scaffolds/ 模板目录。 source/ 资源目录，包含原始文章.md以及解析后文章（保存在public目录下）。 指令 hexo init 初始化站点文件 hexo new [layout] &lt;title&gt; 按照模板layout创建post hexo (g)enerate 生成静态文件 -d 创建完后部署（上传到git） -w 检查文件变动 hexo server 启动服务器 -p 指定端口给 -s 只使用静态文件 -l 记录日志 hexo deploy 部署（上传到git） -g 部署前生成静态文件 hexo clean 清除缓存文件 (db.json) 和已生成的静态文件 (public) 💡 提醒： 每次修改 站点 _config.yml 文件后由于hexo的缓存问题需要刷新。一种办法是hexo g重新生成，好处是不用重启Server；另一种方法是hexo clean &amp; hexo server，这种我认为更彻底，不过比较麻烦就是。 更多详见 指令 。 _config.yml 简单修改（标题、语言、时区） 12345678# Sitetitle: zangjiaao&apos;s blogsubtitle: 滴水穿石...description: 纸上得来终觉浅...keywords:author: jiahaolanguage: zh-CNtimezone: Asia/Shanghai 更多详见 官方文档 。 分类 &amp; 标签 创建: 1hexo new page categories 编辑: 在index.md中添加以下内容 123456---title: categoriesdate: 2018-05-06 00:57:48categories: 00_等待分类type: &quot;categories&quot;--- 头像 配置: 在 主题 的_config.yml中查找avatar并编辑为下面的内容，随后上传头像文件至 站点 的uploads并重命名为avatar.gif。 1avatar: /uploads/avatar.gif 📖 说明： 放主题对应目录也可以，参考主题配置文件注释中的说明。 浏览进度 配置: 在 主题 的_config.yml中查找scrollpercent并将参数改为true即可。 拓展 （推荐）markdown-it-plus 插件 这个插件支持TOC和emoji特性，而且不需要为了追求与Next的兼容性去修改配置。同时还兼容sub、sup也就是角标、Katex公式、ins下划线和删除线渲染，可见强大，因此推荐。了解更多。 安装: 在站点目录hexo_blog执行 12npm un hexo-renderer-marked --savenpm i hexo-renderer-markdown-it-plus --save 配置: 修改 站点 的config.yml文件 12345678910markdown_it_plus: highlight: true html: true xhtmlOut: true breaks: true langPrefix: linkify: true typographer: quotes: “”‘’ pre_class: highlight （不推荐）emoji支持 切换渲染: 因为hexo-renderer-marked不支持（实际是支持的crimx/hexo-filter-github-emojis太丑了），固改用markdown-it渲染 12npm un hexo-renderer-marked --savenpm i hexo-renderer-markdown-it --save 安装: 1npm install markdown-it-emoji --save 配置: 注意这里修改的是 站点 的_config.yml 123456789101112131415161718192021markdown: render: html: true xhtmlOut: false breaks: true linkify: true typographer: true quotes: &apos;“”‘’&apos; plugins: - markdown-it-abbr - markdown-it-footnote - markdown-it-ins - markdown-it-sub - markdown-it-sup - markdown-it-emoji #用emoji插件 anchors: level: 1 collisionSuffix: &apos;v&apos; permalink: true permalinkClass: header-anchor permalinkSymbol: &apos;&apos; #设置&apos;¶&apos;会导致页面中显示出错 更多详见 Hexo添加emoji | Very9s 。 （不推荐）hexo-TOC 插件bubkoo/hexo-toc与Next主题有极大的冲突，安装之后将导致**侧边目录失效！！**不推荐安装。 若迫不得已需要安装也可依据下面内容调整。 弥补方法: 通过将${blog_root}/node_modules/hexo-toc/lib/filter.js中的28行~31行改为下面内容。 1234$title.attr(&apos;id&apos;, id);// $title.children(&apos;a&apos;).remove();// $title.html( &apos;&lt;span id=&quot;&apos; + id + &apos;&quot;&gt;&apos; + $title.html() + &apos;&lt;/span&gt;&apos; );// $title.removeAttr(&apos;id&apos;); 随后还需要替换’markdown-it’，请见上一章节相关安装方法，并修改hexo-toc的配置为： 123456789toc: maxdepth: 3 class: toc slugify: transliteration decodeEntities: false anchor: position: after symbol: &apos;&apos; #主要删除了symbol style: header-anchor 更多详见 Content's link show 'undefine' · Issue #11 · YenYuHsuan/hexo-theme-beantech 中@fawks96的回答。 404页面 直接创建source/404.html文件即可，我直接把谷歌文字的错误页面拔了下来改了改，感觉挺有“windows”错误页面的风格，页面源码如下： 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091ayout: falsetitle: "404"---&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt; &lt;meta content="text/html; charset=utf-8" http-equiv="Content-Type"&gt; &lt;title&gt;Oops!&lt;/title&gt; &lt;style type="text/css"&gt; * &#123; padding: 0; margin: 0; &#125; html &#123; overflow-y: scroll; &#125; body &#123; background: #fff; font-family: '微软雅黑'; color: #333; font-size: 16px; &#125; img &#123; border: 0; &#125; .error &#123; padding: 24px 48px; &#125; .face &#123; font-size: 100px; font-weight: normal; line-height: 120px; margin-bottom: 12px; &#125; h1 &#123; font-size: 32px; line-height: 48px; &#125; .error .content &#123; padding-top: 10px &#125; .error .info &#123; margin-bottom: 12px; &#125; .error .info .title &#123; margin-bottom: 3px; &#125; .error .info .title h3 &#123; color: #000; font-weight: 700; font-size: 16px; &#125; .error .info .text &#123; line-height: 24px; &#125; .copyright &#123; padding: 12px 48px; color: #999; &#125; .copyright a &#123; color: #000; text-decoration: none; &#125; &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;div class="error"&gt; &lt;p class="face"&gt;:(&lt;/p&gt; &lt;h1&gt;找不到指定文件...&lt;/h1&gt; &lt;div class="title"&gt; &lt;h3&gt;&amp;nbsp;&lt;/h3&gt; &lt;/div&gt; &lt;div class="text"&gt; &lt;p&gt;错误代码：404. &lt;/p&gt; &lt;/div&gt; 搜索 安装: 站点根目录下执行 1npm install hexo-generator-searchdb --save 配置1: 站点_config.yml中修改 12345search: path: search.xml field: post format: html limit: 10000 配置2: 主题_config.yml中修改 123456789# Local search# Dependencies: https://github.com/flashlab/hexo-generator-searchlocal_search: enable: true # if auto, trigger search by changing input # if manual, trigger search by pressing enter key or search button trigger: auto # show top n results per article, show all results by setting to -1 top_n_per_article: 1 自动打开 VSCode 能够在hexo new文章时候自动打开VSCode，方便。 TODO [ ] new 时自动打开 VSCode 添加评论功能 经过测试，多说，来必达都不够友好，发现其他博客上使用“gitment”以及“Hypercomments”作为评论解决方案，试了以下非常给力。官网在这里，登录使用谷歌，所以自备梯子。 注册好以后需要添加id值为settiong - Widget - code的widget_id值： 随后需要编辑主题的配置文件_config.yml开启“Hypercomments”支持： 12# Hypercommentshypercomments_id: 101277 TODO [ ] 快速开始 - Valine 其他功能 插入音乐 Hexo+Next主题优化。 APlayer Hexo博客中插入音乐 进度条 theme-next/theme-next-pace Github托管 声明 版权： 2018-now，🇨🇳，zangjiaao&lt;zangjiaao@yahoo.com&gt; 由家浩创作并维护的zangjiaao's blog博客所有文章除特别声明外，均采用&quot;创作共用保留署名-非商业-禁止演绎4.0国际许可证&quot;。 本文首发于zangjiaao’s blog博客，转载请注明出处。]]></content>
      <categories>
        <category>02_环境搭建</category>
      </categories>
  </entry>
</search>
