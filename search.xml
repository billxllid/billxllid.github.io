<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Gitå­¦ä¹ ç¬”è®°]]></title>
    <url>%2F2018%2F08%2F28%2FGit%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[æ¦‚è¿°ï¼š é¡¾åæ€ä¹‰, Gitç¬”è®°! æŽ¨èä¸‹å®˜æ–¹æ•™æPro Git bookåœ¨çº¿ç‰ˆ(æ”¯æŒä¸­æ–‡å“¦~). Gitå­¦ä¹ ç¬”è®°TODOç‰¹åˆ«æŽ¨è:XMindä¾¿äºŽè®°å¿†gitignoreç”¨æ³•åˆ†æ”¯çš„æ–°å»ºä¸Žåˆå¹¶åˆ é™¤è¿œç¨‹åˆ†æ”¯å£°æ˜Ž TODOå¾…æ•´ç† ç‰¹åˆ«æŽ¨è:XMindä¸‹è½½é“¾æŽ¥(å¯†ç :s59c) ä¾¿äºŽè®°å¿†12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455# æŸ¥çœ‹branchgit branch# æŸ¥çœ‹è¿œç«¯branchgit branch -r# åˆ›å»ºbrachgit branch xxx# åˆ‡æ¢branchgit checkout xxx# åˆ‡æ¢æ—¶åˆ›å»ºbranchgit checkout -b xxx# åˆ é™¤æœ¬åœ°branchgit branch -d xxx# å¼ºåˆ¶åˆ é™¤(branchä¿®æ”¹åŽæ²¡æœ‰merge)git branch -D xxx# åˆ é™¤è¿œç«¯branchgit branch -r -d origin/xxxgit push origin :xxxorgit push origin --delete xxx# åˆ›å»ºæœ¬åœ°gitgit init# æ·»åŠ git remoteæºgit remote add origin git:xxx# æ·»åŠ git remoteæº, åŒæ—¶fetchgit remote add origin -f git:xxx# ä¿®æ”¹git remoteçš„namegit remote rename origin xxx# æ“ä½œå›žæ»šgit log xxx # æŸ¥çœ‹ä¿®æ”¹, èŽ·å–commit idgit reset --hard xxxxxx # å›žå½’åˆ°ä¸Šä¸€æ¬¡æäº¤# å­æ¨¡å—ç®¡ç†(å°†å­æ¨¡å—ç»‘å®šåˆ°xxxç›®å½•ä¸‹, ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª.gitmoudle)git submodule add git@xxx xxx# å­æ¨¡å—åˆå§‹åŒ–(cloneä¸‹æ¥ä½†æ˜¯æ²¡æœ‰åŠ --res)cd xxxgit submodule initgit submodule update# å­æ¨¡å—ç®¡ç†, æ›´æ–°å…¨éƒ¨å­æ¨¡å—(é€’å½’æ›´æ–°)git submodule update --init --recursive# åœ¨cloneæ—¶å°±é€’å½’æ›´æ–°æ‰€æœ‰å­æ¨¡å—git clone git@xxx --recursiveor # æ²¡è¯•è¿‡, åº”è¯¥ä¸€æ ·git clone ggit@xxx --recurse-submodulesgeeeeeeeeek/git-recipes--soft: ç¼“å­˜åŒºå’Œå·¥ä½œç›®å½•éƒ½ä¸ä¼šè¢«æ”¹å˜--mixed: é»˜è®¤é€‰é¡¹ã€‚ç¼“å­˜åŒºå’Œä½ æŒ‡å®šçš„æäº¤åŒæ­¥ï¼Œä½†å·¥ä½œç›®å½•ä¸å—å½±å“--hard: ç¼“å­˜åŒºå’Œå·¥ä½œç›®å½•éƒ½åŒæ­¥åˆ°ä½ æŒ‡å®šçš„æäº¤ gitignoreç”¨æ³•github/gitignoreç”±äºŽgitæ˜¯ä¸èƒ½æäº¤ç©ºç›®å½•çš„, å¦‚æžœéœ€è¦ä¿ç•™ç›®å½•, å°±éœ€è¦åœ¨è¦ä¿ç•™çš„ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª.gitkeepæ–‡ä»¶, å¯ä»¥ä¸ºç©º. ä½¿ç”¨.ignoreä¹Ÿå¯ä»¥. åˆ†æ”¯çš„æ–°å»ºä¸Žåˆå¹¶from: Git - åˆ†æ”¯çš„æ–°å»ºä¸Žåˆå¹¶ åˆ é™¤è¿œç¨‹åˆ†æ”¯from: gitæ€Žä¹ˆåˆ é™¤è¿œç¨‹åˆ†æ”¯ - SegmentFault æ€å¦åˆ é™¤è¿œç¨‹åˆ†æ”¯å’Œtagåœ¨Git v1.7.0 ä¹‹åŽï¼Œå¯ä»¥ä½¿ç”¨è¿™ç§è¯­æ³•åˆ é™¤è¿œç¨‹åˆ†æ”¯ï¼š1git push origin --delete &lt;branchName&gt;åˆ é™¤tagè¿™ä¹ˆç”¨ï¼š1git push origin --delete tag &lt;tagname&gt;å¦åˆ™ï¼Œå¯ä»¥ä½¿ç”¨è¿™ç§è¯­æ³•ï¼ŒæŽ¨é€ä¸€ä¸ªç©ºåˆ†æ”¯åˆ°è¿œç¨‹åˆ†æ”¯ï¼Œå…¶å®žå°±ç›¸å½“äºŽåˆ é™¤è¿œç¨‹åˆ†æ”¯ï¼š1git push origin :&lt;branchName&gt;è¿™æ˜¯åˆ é™¤tagçš„æ–¹æ³•ï¼ŒæŽ¨é€ä¸€ä¸ªç©ºtagåˆ°è¿œç¨‹tagï¼š12git tag -d &lt;tagname&gt;git push origin :refs/tags/&lt;tagname&gt;ä¸¤ç§è¯­æ³•ä½œç”¨å®Œå…¨ç›¸åŒã€‚åˆ é™¤ä¸å­˜åœ¨å¯¹åº”è¿œç¨‹åˆ†æ”¯çš„æœ¬åœ°åˆ†æ”¯å‡è®¾è¿™æ ·ä¸€ç§æƒ…å†µï¼šæˆ‘åˆ›å»ºäº†æœ¬åœ°åˆ†æ”¯b1å¹¶pullåˆ°è¿œç¨‹åˆ†æ”¯ origin/b1ï¼›å…¶ä»–äººåœ¨æœ¬åœ°ä½¿ç”¨fetchæˆ–pullåˆ›å»ºäº†æœ¬åœ°çš„b1åˆ†æ”¯ï¼›æˆ‘åˆ é™¤äº† origin/b1 è¿œç¨‹åˆ†æ”¯ï¼›å…¶ä»–äººå†æ¬¡æ‰§è¡Œfetchæˆ–è€…pullå¹¶ä¸ä¼šåˆ é™¤è¿™ä¸ªä»–ä»¬æœ¬åœ°çš„ b1 åˆ†æ”¯ï¼Œè¿è¡Œ git branch -a ä¹Ÿä¸èƒ½çœ‹å‡ºè¿™ä¸ªbranchè¢«åˆ é™¤äº†ï¼Œå¦‚ä½•å¤„ç†ï¼Ÿä½¿ç”¨ä¸‹é¢çš„ä»£ç æŸ¥çœ‹b1çš„çŠ¶æ€ï¼š123456789101112$ git remote show origin* remote origin Fetch URL: git@github.com:xxx/xxx.git Push URL: git@github.com:xxx/xxx.git HEAD branch: master Remote branches: master tracked refs/remotes/origin/b1 stale (use &apos;git remote prune&apos; to remove) Local branch configured for &apos;git pull&apos;: master merges with remote master Local ref configured for &apos;git push&apos;: master pushes to master (up to date)è¿™æ—¶å€™èƒ½å¤Ÿçœ‹åˆ°b1æ˜¯staleçš„ï¼Œä½¿ç”¨ git remote prune origin å¯ä»¥å°†å…¶ä»Žæœ¬åœ°ç‰ˆæœ¬åº“ä¸­åŽ»é™¤ã€‚æ›´ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨è¿™ä¸ªå‘½ä»¤ï¼Œå®ƒåœ¨fetchä¹‹åŽåˆ é™¤æŽ‰æ²¡æœ‰ä¸Žè¿œç¨‹åˆ†æ”¯å¯¹åº”çš„æœ¬åœ°åˆ†æ”¯ï¼šgit fetch -p å£°æ˜Žç‰ˆæƒï¼š 2018-nowï¼ŒðŸ‡¨ðŸ‡³ï¼Œzangjiaao&lt;zangjiaao@yahoo.com&gt;ç”±å®¶æµ©åˆ›ä½œå¹¶ç»´æŠ¤çš„zangjiaao's blogåšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜Žå¤–ï¼Œå‡é‡‡ç”¨&quot;ç½²å-éžå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº«4.0(CC BY-NC-SA 4.0)å›½é™…è®¸å¯è¯&quot;ã€‚æœ¬æ–‡é¦–å‘äºŽzangjiaaoâ€™s blogåšå®¢ï¼Œè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ã€‚]]></content>
      <categories>
        <category>04_å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ansibleç¬”è®°]]></title>
    <url>%2F2018%2F07%2F05%2FAnsible%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[æ¦‚è¿°ï¼š ansibleåŸºäºŽpythonå®žçŽ°ï¼Œæ˜¯ä¸€æ¬¾å¼ºå¤§çš„å¤šä¸»æœºç®¡ç†å·¥å…·ã€‚é€šè¿‡ä»–å¯ä»¥å®žçŽ°æ‰¹é‡çš„ä»»åŠ¡æ‰§è¡Œï¼Œå¤§å¤§ç®€åŒ–äº†å¤§é‡ä¸»æœºåœºæ™¯ä¸‹çš„ç»´æŠ¤éš¾åº¦ã€‚ Ansibleç¬”è®°å‚è€ƒè‡ªå›½å†…æœ€ä¸“ä¸šçš„Ansibleä¸­æ–‡å®˜æ–¹å­¦ä¹ æ‰‹å†Œã€‚TODOæŒ‡ä»¤ç”¨æ³•ä¸»æœºå¯¹è±¡(host-pattern)é€‰é¡¹(options)æ¨¡å—(modle)Inventoryæ–‡ä»¶åŸºæœ¬åˆ†ç»„/åˆå¹¶å˜é‡å‚æ•°è¯´æ˜ŽåŠ å¯†playbookè„šæœ¬demoå£°æ˜Ž TODOä¸€äº›æœ‰è¶£çš„ç”¨æ³•:Ansible å°æ‰‹å†Œç³»åˆ— äºŒåï¼ˆç»å¸¸é‡åˆ°çš„é—®é¢˜ï¼‰.è¡¥å…¨æ¨¡å—ä¸­çš„å†…å®¹:è¡¥å…¨playbookä¸­çš„å†…å®¹:Introduction To Ad-Hoc Commands â€” å›½å†…æœ€ä¸“ä¸šçš„Ansibleä¸­æ–‡å®˜æ–¹å­¦ä¹ æ‰‹å†Œ æŒ‡ä»¤ç”¨æ³•å…¸åž‹æŒ‡ä»¤:1234ansible &lt;host-pattern&gt; [options]# example:ansible example -m service -a "name=httpd state=restarted" ä¸»æœºå¯¹è±¡(host-pattern)æ”¹å˜host-patternåˆ™å¯ä»¥æ”¹å˜è¦æ“ä½œçš„ä¸»æœºå¯¹è±¡,æœ‰ä¸€å®šçš„è¯­æ³•æ ¼å¼:123456789101112131415161718192021222324252627# æ‰€æœ‰ä¸»æœºall*# å•ä¸ªIPæˆ–è€…åˆ†ç»„127.0.0.1dns.example.comgruop01# å¤šä¸ªIP(æ”¯æŒé€šé…ç¬¦)192.168.1.*# å¤šä¸ªä¸»æœºæˆ–è€…åˆ¤å®šæ¡ä»¶,ä½¿ç”¨:åˆ†å‰²127.0.0.1:127.0.0.2foo.example.com:foo.excample.com# æ¡ä»¶èŒƒå›´(å¯ä»¥å¤šä¸ªåŒæ—¶ä½œä¸ºæ¡ä»¶)group01:!group02 # ä»Žgroup01ä¸­æŽ’é™¤group02ä¸­çš„ç»„å‘˜host:!centosgroup01:!group02 # group01ä¸Ž02å…±åŒçš„ä¸»æœº(äº¤é›†)# ç»„ä¸­æŸå‡ ä¸ªä¸»æœºgroup01[2]group01[1-5]# æ­£åˆ™è¡¨è¾¾å¼(~å¼€å¤´å³å¯,æœ‰ç‚¹åƒawkçš„ifåˆ¤æ–­)~(web|db).*\.example\.com--limitæœ‰åŠ©äºŽæŽ’é™¤ä¸€éƒ¨åˆ†æ¡ç›®(é»‘åå•)1234ansible-playbook site.yml --limit datacenter2# å¦‚æžœä½ æƒ³ä»Žæ–‡ä»¶è¯»å–hosts,æ–‡ä»¶åä»¥@ä¸ºå‰ç¼€å³å¯.ä»ŽAnsible 1.2å¼€å§‹æ”¯æŒè¯¥åŠŸèƒ½:ansible-playbook site.yml --limit @retry_hosts.txt é€‰é¡¹(options)æ¯”è¾ƒå¸¸ç”¨åˆ°çš„:å‘½ä»¤:-i INVENTORY: æŒ‡å®šinventoryæ–‡ä»¶-m MODULE_NAME: æŒ‡å®šæ¨¡å—(ä¸‹é¢ä¼šè¯´æ˜Ž,é»˜è®¤æ˜¯command)-a MODULE_ARGS: æ¨¡å—å±žæ€§-f FORKS, --forks=FORKS: è®¾ç½®å¹¶å‘çº¿ç¨‹,é»˜è®¤5ä¸ªè¾“å‡º:-o: ä¸€è¡Œè¾“å‡º,å°†ç»“æžœæ ¼å¼åŒ–ä¸ºä¸€è¡Œè¾“å‡º-v: verbose,-vvvå¯çŽ°å®žæ›´å¤š,-vvvvå¼€å¯debugæ¨¡å¼ç”¨æˆ·:-k, --ask-pass: äº¤äº’å¼è¾“å…¥-u USERæŒ‡å®šuserçš„å¯†ç --private-key=PRIVATE_KEY_FILE: ç§é’¥æ–¹å¼ç™»å½•-u REMOTE_USER: æŒ‡å®šç™»å½•çš„ç”¨æˆ·æƒé™:a) sudoæ–¹å¼-s, --sudo: *å»ºè®®ä½¿ç”¨become,sudoæ–¹å¼è¿è¡ŒæŒ‡ä»¤-U SUDO_USER: æŒ‡å®šå¯¹åº”çš„sudoç”¨æˆ·èº«ä»½,é»˜è®¤root--sudo-user=SUDO_USER--ask-sudo-pass: è¾“å…¥sudoçš„å¯†ç ä¾‹å­:12345678ansible 192.168.56.101 \-m shell -a 'whoami &amp;&amp; pwd' \-u billx -k \-s -U root --ask-sudo-passè¾“å‡º:192.168.56.101 | SUCCESS | rc=0 &gt;&gt;rootb) suæ–¹å¼-S, --su: *å»ºè®®ä½¿ç”¨become,suåˆ‡æ¢ç”¨æˆ·-R SU_USER: æŒ‡å®šå¯¹åº”çš„suåˆ‡æ¢çš„ç”¨æˆ·èº«ä»½--su-user=SU_USER--ask-su-pass: è¾“å…¥suçš„å¯†ç ä¾‹å­:123456789ansible 192.168.56.101 \-m shell -a 'whoami &amp;&amp; pwd' \-u billx -k \-S -R root --ask-su-passè¾“å‡º:192.168.56.101 | SUCCESS | rc=0 &gt;&gt;root/home/billxâš ï¸ æ³¨æ„ï¼š è¿™é‡Œé»˜è®¤çš„suæ¨¡å¼éžsu -ä¹Ÿå°±æ˜¯æ²¡æœ‰å¸¦çŽ¯å¢ƒå˜é‡çš„c) becomeæ–¹å¼(æŽ¨è)-b, --become: æ›´é«˜çº§çš„ç”¨æˆ·æƒé™åˆ‡æ¢--become-method=BECOME_METHOD: é»˜è®¤sudo,æ”¯æŒ[ sudo | su | pbrun | pfexec | doas | dzdo | ksu | runas | pmrun | enable | machinectl ]--become-user=BECOME_USER: é»˜è®¤root-K, --ask-become-pass: becomeå¯¹åº”çš„ç”¨æˆ·å¯†ç ä¾‹å­:12345678910111213141516ansible -i hosts all \-m shell -a 'whoami &amp;&amp; pwd' \-u billx -k \-b \--become-method=su \--become-user=root \-K# è¾“å‡º:centos01 | SUCCESS | rc=0 &gt;&gt;root/home/billxcentos02 | SUCCESS | rc=0 &gt;&gt;root/home/billx æ¨¡å—(modle)ä½¿ç”¨-mæ—¶éœ€è¦åˆ¶å®šä¸åŒçš„æ¨¡å—,ä¹Ÿå°±æ˜¯ç®€å•çš„Ad_hocæ¨¡å¼a) shell1ansible raleigh -m shell -a 'echo $TERM'âš ï¸ æ³¨æ„ï¼š æ³¨æ„ shell å¼•å·çš„è§„åˆ™. æ¯”å¦‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­,å¦‚æžœä½¿ç”¨åŒå¼•å·â€echo $TERMâ€,ä¼šæ±‚å‡ºTERMå˜é‡åœ¨å½“å‰ç³»ç»Ÿçš„å€¼,è€Œæˆ‘ä»¬å®žé™…å¸Œæœ›çš„æ˜¯æŠŠè¿™ä¸ªå‘½ä»¤ä¼ é€’ åˆ°å…¶å®ƒæœºå™¨æ‰§è¡Œ.b) copyâ€¦ Inventoryæ–‡ä»¶Ansibleå¯ä»¥é€šè¿‡inventoryæ–‡ä»¶åŒæ—¶æ“ä½œå¤šå°ä¸»æœºï¼Œé»˜è®¤è·¯å¾„ä¸º/etc/ansible/hostsï¼ˆä½†å®‰è£…æ—¶å¹¶æœªåˆ›å»ºï¼‰ï¼Œå¯é€šè¿‡-i INVENTORYå‚æ•°æŒ‡å®šæ–‡ä»¶ã€‚é™¤é»˜è®¤æ–‡ä»¶å¤–,è¿˜å¯ä»¥åŒæ—¶ä½¿ç”¨å¤šä¸ªinventoryæ–‡ä»¶ï¼Œå¹¶ä¸”è¿˜å¯ä»¥ä»ŽåŠ¨æ€æº,æˆ–äº‘ä¸Šæ‹‰å–inventoryé…ç½®ä¿¡æ¯ã€‚ åŸºæœ¬1234567# å•å°(å¯ä»¥æ˜¯ipä¹Ÿå¯ä»¥æ˜¯ä¸»æœºå)127.0.0.1mail.example.com# éžé»˜è®¤22ç«¯å£127.0.0.1:33example_01 ansible_ssh_host=127.0.0.1 ansible_ssh_port=33 åˆ†ç»„/åˆå¹¶1234567891011121314151617181920212223# åˆ†ç»„[example]foo.example.combar.example.com# å¤šç±»ä¼¼ä¸»æœºç®€å†™[example]host[01:10].example.comhost[1:10].example.com # ä¸Ž01å†™æ³•æ„ä¹‰ç›¸åŒhost[a:f].example.com# æŠŠä¸€ä¸ªç»„ä½œä¸ºå¦ä¸€ä¸ªç»„çš„å­æˆå‘˜[foo]host1host2[bar]host2host3[example:children]foobar å˜é‡12345678910111213# ä¸»æœºå˜é‡[foo]host1 http_port=80 maxRequestsPerChild=808host2 http_port=303 maxRequestsPerChild=909# ç»„å˜é‡[foo]host1host2[foo:vars]ntp_server=ntp.atlanta.example.comproxy=proxy.atlanta.example.com å‚æ•°è¯´æ˜Ž1234567891011121314151617181920212223242526272829303132333435363738# å°†è¦è¿žæŽ¥çš„è¿œç¨‹ä¸»æœºå.ä¸Žä½ æƒ³è¦è®¾å®šçš„ä¸»æœºçš„åˆ«åä¸åŒçš„è¯,å¯é€šè¿‡æ­¤å˜é‡è®¾ç½®.ansible_ssh_host# sshç«¯å£å·.å¦‚æžœä¸æ˜¯é»˜è®¤çš„ç«¯å£å·,é€šè¿‡æ­¤å˜é‡è®¾ç½®.ansible_ssh_port# é»˜è®¤çš„ ssh ç”¨æˆ·åansible_ssh_user# ssh å¯†ç (è¿™ç§æ–¹å¼å¹¶ä¸å®‰å…¨,æˆ‘ä»¬å¼ºçƒˆå»ºè®®ä½¿ç”¨ --ask-pass æˆ– SSH å¯†é’¥)ansible_ssh_pass# sudo å¯†ç (è¿™ç§æ–¹å¼å¹¶ä¸å®‰å…¨,æˆ‘ä»¬å¼ºçƒˆå»ºè®®ä½¿ç”¨ --ask-sudo-pass)ansible_sudo_pass# sudo å‘½ä»¤è·¯å¾„(é€‚ç”¨äºŽ1.8åŠä»¥ä¸Šç‰ˆæœ¬)ansible_sudo_exe (new in version 1.8)# ä¸Žä¸»æœºçš„è¿žæŽ¥ç±»åž‹.æ¯”å¦‚:local, ssh æˆ–è€… paramiko. Ansible# 1.2 ä»¥å‰é»˜è®¤ä½¿ç”¨ paramiko.1.2 ä»¥åŽé»˜è®¤ä½¿ç”¨ 'smart','smart'# æ–¹å¼ä¼šæ ¹æ®æ˜¯å¦æ”¯æŒ ControlPersist, æ¥åˆ¤æ–­'ssh' æ–¹å¼æ˜¯å¦å¯è¡Œ.ansible_connection# ssh ä½¿ç”¨çš„ç§é’¥æ–‡ä»¶.é€‚ç”¨äºŽæœ‰å¤šä¸ªå¯†é’¥,è€Œä½ ä¸æƒ³ä½¿ç”¨ SSH ä»£ç†çš„æƒ…å†µ.ansible_ssh_private_key_file# ç›®æ ‡ç³»ç»Ÿçš„shellç±»åž‹.é»˜è®¤æƒ…å†µä¸‹,å‘½ä»¤çš„æ‰§è¡Œä½¿ç”¨ 'sh' è¯­æ³•,å¯è®¾ç½®ä¸º 'csh' æˆ– 'fish'.ansible_shell_type# ç›®æ ‡ä¸»æœºçš„ python è·¯å¾„.é€‚ç”¨äºŽçš„æƒ…å†µ: ç³»ç»Ÿä¸­æœ‰å¤šä¸ª Python,# æˆ–è€…å‘½ä»¤è·¯å¾„ä¸æ˜¯"/usr/bin/python",æ¯”å¦‚ \*BSD, æˆ–è€…# /usr/bin/python ä¸æ˜¯ 2.X ç‰ˆæœ¬çš„ Python.æˆ‘ä»¬ä¸ä½¿ç”¨# "/usr/bin/env" æœºåˆ¶,å› ä¸ºè¿™è¦æ±‚è¿œç¨‹ç”¨æˆ·çš„è·¯å¾„è®¾ç½®æ­£ç¡®,ä¸”è¦æ±‚# "python" å¯æ‰§è¡Œç¨‹åºåä¸å¯ä¸º pythonä»¥å¤–çš„åå­—(å®žé™…æœ‰å¯èƒ½åä¸º# python26).ansible_python_interpreter*pythonæ¢æˆrubyä¹Ÿå¯ä»¥æ”¹å˜rubyçš„è§£é‡Šå™¨ä¸¾ä¸ªä¾‹å­:123456789some_host ansible_ssh_port=2222 ansible_ssh_user=manageraws_host ansible_ssh_private_key_file=/home/example/.ssh/aws.pemfreebsd_host ansible_python_interpreter=/usr/local/bin/pythonruby_module_host ansible_ruby_interpreter=/usr/bin/ruby.1.9.3[foo]some_host ansible_ssh_host=127.0.0.1[foo:vars]ansible_ssh_user=test åŠ å¯†ä½¿ç”¨ansible-vaultå·¥å…·å®žçŽ°å¯¹inventoryæ–‡ä»¶çš„åŠ å¯†æ“ä½œ1234567891011121314151617181920212223242526272829303132333435363738394041# åŠ å¯†æ–‡ä»¶:ansible-vault encrypt hosts # è¿™é‡Œhostsæ˜¯æ–‡ä»¶å# è¾“å‡º:New Vault password:Confirm New Vault password:Encryption successfulcat hosts# è¾“å‡º:$ANSIBLE_VAULT;1.1;AES256343366383330643563303137386461..# ä½¿ç”¨åŠ å¯†æ–‡ä»¶:ansible -i hosts --ask-vault-pass all -m ping -u billx -k# è¾“å‡º:SSH password:Vault password:centos01 | SUCCESS =&gt; &#123; "changed": false, "ping": "pong"&#125;centos02 | SUCCESS =&gt; &#123; "changed": false, "ping": "pong"&#125;# è§£å¯†æ–‡ä»¶:ansible-vault decrypt hosts# è¾“å‡º: Vault password:Decryption successfulcat hosts# è¾“å‡º:[test]centos0[1:2] ansible_ssh_host=192.168.56.101[test:vars]ansible_ssh_port = 22 playbookè„šæœ¬ demoansible_hostsæ–‡ä»¶,æ–‡ä»¶åhosts.12345[test]centos0[1:2] ansible_ssh_host=192.168.56.101[test:vars]ansible_ssh_port = 22playbookæ–‡ä»¶,æ–‡ä»¶åtest.yml123456789---- hosts: test remote_user: billx become: yes become_user: root become_method: sudo tasks: - name: hello shell: for i in "PermitEmptyPasswords" "PermitRootLogin" "MaxAuthTries" "Ciphers" "MACs" "ListenAddress";do egrep -v '^#|^$' /etc/ssh/sshd_config | egrep -i $i; done;å¼€å§‹æ‰§è¡Œ:1ansible-playbook test.yml -i hosts -k -K -væ›´å¤šå‚è€ƒ:Intro to Playbooks â€” Ansible Documentation å£°æ˜Žç‰ˆæƒï¼š 2018-nowï¼ŒðŸ‡¨ðŸ‡³ï¼Œzangjiaao&lt;zangjiaao@yahoo.com&gt;ç”±å®¶æµ©åˆ›ä½œå¹¶ç»´æŠ¤çš„zangjiaao's blogåšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜Žå¤–ï¼Œå‡é‡‡ç”¨&quot;ç½²å-éžå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº«4.0(CC BY-NC-SA 4.0)å›½é™…è®¸å¯è¯&quot;ã€‚æœ¬æ–‡é¦–å‘äºŽzangjiaaoâ€™s blogåšå®¢ï¼Œè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ã€‚]]></content>
      <categories>
        <category>04_å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>ansible</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[PythonæŠ€å·§]]></title>
    <url>%2F2018%2F06%2F22%2FPython%E6%8A%80%E5%B7%A7%2F</url>
    <content type="text"><![CDATA[æ¦‚è¿°ï¼š pythonçš„ä¸€äº›Tipsï¼Œæµ“ç¼©éƒ½æ˜¯ç²¾åŽå•Šâ€¦ PythonTipsæ”¶é›†TODOæ ¼å¼çº¦æŸå­—ç¬¦ä¸²å’Œæ–‡æœ¬Tips01_ç”Ÿæˆéšæœºæ•°Tips02_å¤§å°å†™è½¬æ¢Tipe03_å­—ç¬¦åˆ‡ç‰‡åˆ—è¡¨å’Œå­—å…¸Tips01_æŸ¥æ‰¾æœ€å¤§æœ€å°å€¼,ä»¥åŠæŽ’åºTips02_åˆ›å»ºæœ‰åºå­—å…¸å‡½æ•°Tips01_åˆ¤æ–­å˜é‡æ˜¯å¦ä¸ºå‡½æ•°Tips02_è£…é¥°å™¨ç”¨æ³•Tips03_ä»¤å±€éƒ¨å˜é‡å¤–éƒ¨å¯è®¿é—®Tips04_å¼‚å¸¸å¤„ç†åŽŸåˆ™æ–‡ä»¶æ“ä½œTips01_èŽ·å–ç»å¯¹è·¯å¾„Tips02_æ–‡ä»¶æ“ä½œæ–¹å¼å…¶ä»–Tips01_HTTP_HEAD_UAæž„å»ºTips02_æŽ§åˆ¶å°å­—ä½“é¢œè‰²å£°æ˜Ž TODOåˆ—è¡¨çš„åˆ‡ç‰‡æ“ä½œ; æ ¼å¼çº¦æŸè¯·å‚è€ƒæ–‡ä»¶æ“ä½œä¸‹çš„Tips01_èŽ·å–æ–‡ä»¶çš„ç»å¯¹è·¯å¾„. å­—ç¬¦ä¸²å’Œæ–‡æœ¬ Tips01_ç”Ÿæˆéšæœºæ•°æ–¹æ³• - 1:1234567import stringimport random# å›ºå®šé•¿åº¦ï¼šalphabet = string.ascii_letters + string.digitspassword = ''.join(choice(alphabet) for i in range(8))# rangeé‡Œé¢å¯ä»¥random.randint(5, 10)è®¾å®šå¯å˜é•¿åº¦æ–¹æ³• - 2: ä½¿ç”¨secretsï¼Œå¼‚å¸¸æ–¹ä¾¿ã€‚å‚è€ƒè¿™ç¯‡æ–‡ç« .1234567import secrets# éšæœºç”Ÿæˆ[0,n)çš„intsecrets.randbelow(10)# éšæœºå­—ç¬¦ä¸²ï¼Œè¿˜åŒ…å«ç¬¦å·secrets.token_urlsafe(10)è¾“å‡ºï¼š'Drmhze6EPcv0fN_81Bj-nA' Tips02_å¤§å°å†™è½¬æ¢æ–¹æ³• - 1:1234print(str.upper()) # æŠŠæ‰€æœ‰å­—ç¬¦ä¸­çš„å°å†™å­—æ¯è½¬æ¢æˆå¤§å†™å­—æ¯print(str.lower()) # æŠŠæ‰€æœ‰å­—ç¬¦ä¸­çš„å¤§å†™å­—æ¯è½¬æ¢æˆå°å†™å­—æ¯print(str.capitalize()) # æŠŠç¬¬ä¸€ä¸ªå­—æ¯è½¬åŒ–ä¸ºå¤§å†™å­—æ¯ï¼Œå…¶ä½™å°å†™print(str.title()) # æŠŠæ¯ä¸ªå•è¯çš„ç¬¬ä¸€ä¸ªå­—æ¯è½¬åŒ–ä¸ºå¤§å†™ï¼Œå…¶ä½™å°å†™ Tipe03_å­—ç¬¦åˆ‡ç‰‡æ–¹æ³• - 1:data[x:y]ï¼šç¬¬ä¸€ç´¢å¼•å·ç æ˜¯ç‰‡çš„å¼€å§‹ï¼ˆå«ï¼‰ï¼Œå¹¶ä¸”æ‰€è¿°ç¬¬äºŒç´¢å¼•å·ç æ˜¯ç‰‡çš„ç«¯éƒ¨ï¼ˆä¸åŒ…æ‹¬ï¼‰ã€‚1234567data = 'abcdefg'data[1:4]data[1:]# OUT:'bcd''bcdefg'æ–¹æ³• - 2:data[x:y:z]ï¼šç¬¬ä¸‰ä¸ªç´¢å¼•å·ç ä»£è¡¨è·¨åº¦ï¼Œé»˜è®¤ä¸º1ã€‚å–æ‰€æœ‰å†…å®¹å¯ä»¥çœç•¥å‰é¢ä¸¤ä¸ªç´¢å¼•ï¼Œä¾‹å¦‚ï¼š12345data = 'abcdefg'data[::2]# OUTï¼š'aceg'æ–¹æ³• - 3:data[-x:-y:-z]ï¼šé¦–å…ˆéœ€è¦æ”¹å˜zï¼Œä¹Ÿå°±æ˜¯å…ˆè½¬å˜æ–¹å‘ã€‚ç„¶åŽå†è°ƒæ•´-xå’Œ-yï¼Œä¾‹å¦‚ï¼š1234567891011data = 'abcdefg'data[-1::]data[::-1]data[-1:-4:-1]data[-1:-6:-2]# OUTï¼š'g''abcdefg''gfe''gec' åˆ—è¡¨å’Œå­—å…¸åŒæ ·è¿˜åŒ…æ‹¬è¡ç”Ÿçš„: å…ƒç»„ã€é›†åˆâ€¦ Tips01_æŸ¥æ‰¾æœ€å¤§æœ€å°å€¼,ä»¥åŠæŽ’åºåœºæ™¯ - 1:ä½¿ç”¨heapqæ¨¡å—çš„ä¸¤ä¸ªå‡½æ•°nlargest()å’Œnsmallest()å¯ä»¥è§£å†³(æ–¹æ³•å‰é¢çš„nä»£è¡¨numberâ€¦), è¯·è§æ¼”ç¤º1å’Œ2.å¦‚æžœåªæ˜¯èŽ·å–åˆ—è¡¨ä¸­çš„æœ€å¤§ä¸€ä¸ªæˆ–è€…æœ€å°ä¸€ä¸ªitem, åˆ™å¯ä»¥ä½¿ç”¨max()å’Œmin()æ›´å¿«ç‚¹.æ–¹æ³• - 1:12345678910import heapqnums = [2, 5, 3, 6, 7, 8, 8, 20]print(heapq.nlargest(3, nums))# OUT:[20, 8, 8]print(heapq.nsmallest(2, nums))# OUT:[2, 3]åœºæ™¯ - 2:ä½¿ç”¨heapqçš„heapify()å‡½æ•°å¯å°†åˆ—è¡¨å˜ä¸ºä¸€ä¸ªä»Žå°åˆ°å¤§æŽ’åºçš„åˆ—è¡¨.å¦‚æžœéœ€è¦æŽ’åº, ä½¿ç”¨sorted(item)[:N]æˆ–è€…sorted(item)[-N:]æ›´å¥½äº›.æ–¹æ³• - 2: å¯¹å¤æ‚å‡½æ•°å¯ä»¥æŒ‡å®šå…¶ä¸­çš„ä¸€ä¸ªå‚æ•°è¿›è¡ŒæŽ’åº(æˆ–è€…å–å‡ºå…¶ä¸­æœ€å¤§çš„å‡ ä¸ª)123456789101112131415161718import heapqdata = [ &#123;'name': 'zhangsan', 'age': 18, 'salary': 1000&#125;, &#123;'name': 'lisi', 'age': 24, 'salary': 3000&#125;, &#123;'name': 'wangwu', 'age': 34, 'salary': 8000&#125;,]print(heapq.nsmallest(1, data, key=lambda d: d['age']))# OUT:[&#123;'salary': 1000, 'age': 18, 'name': 'zhangsan'&#125;]# å¦‚æžœæŒ‡å®šçš„æ•°é‡ä¸Žåˆ—è¡¨å¤§å°ç›¸ç­‰, é‚£ä¹ˆå°±æ˜¯sortæŽ’åºäº†print(heapq.nsmallest(len(data), data, key=lambda d: d['age']))# OUT:[&#123;'salary': 1000, 'age': 18, 'name': 'zhangsan'&#125;,&#123;'salary': 3000, 'age': 24, 'name': 'lisi'&#125;,&#123;'salary': 8000, 'age': 34, 'name': 'wangwu'&#125;]# å½“ç„¶largeståŒæ ·æ”¯æŒè¯¥æ“ä½œ, è¿™é‡Œå°±ä¸èµ˜è¿°äº† Tips02_åˆ›å»ºæœ‰åºå­—å…¸åœºæ™¯ - 1:æƒ³åˆ›å»ºä¸€ä¸ªå­—å…¸, å¹¶ä¸”ä¿è¯å­—å…¸èƒ½å¤ŸæŽ§åˆ¶å…ƒç´ çš„æŽ’åº. å¯ä»¥ä½¿ç”¨collectionsæ¨¡å—ä¸­çš„OrderedDictç±»æ¥å®žçŽ°.å¯¹äºŽä½¿ç”¨yamlä½œä¸ºé…ç½®æ–‡ä»¶çš„è¯ä¼šä½¿ç”¨dictååºåˆ—åŒ–, ç»“æžœå¯¼è‡´é…ç½®æ–‡ä»¶ä¼šä¹±åº, å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•è§£å†³.æ–¹æ³• - 1:12345678910111213141516171819from collections import OrderedDictd = OrderedDict()d['a'] = 1,d['b'] = 2,d['c'] = 3,d['d'] = 4,for key in d: print(key, d[key])# OUT:('a', (1,))('b', (2,))('c', (3,))('d', (4,))# å¦‚æžœ: d = dict(), OUT:('a', (1,))('c', (3,))('b', (2,))('d', (4,)) å‡½æ•° Tips01_åˆ¤æ–­å˜é‡æ˜¯å¦ä¸ºå‡½æ•°åœºæ™¯ - 1:åˆ¤æ–­å˜é‡æ˜¯å¦ä¸ºå‡½æ•°ï¼Œæ˜¯å‡½æ•°æ‰æ‰§è¡Œï¼Œä¸æ˜¯åˆ™ä¸¢å¼ƒã€‚123456789101112131415# æŸäº›æ¯”è¾ƒç‰¹æ®Šçš„å‡½æ•°æ²¡åŠžæ³•åˆ¤æ–­ï¼Œtypeç»“æžœéƒ½ä¸æ˜¯function&gt;&gt;&gt; import time&gt;&gt;&gt; type(time.time)&lt;class 'builtin_function_or_method'&gt;# å› æ­¤å…ˆæŠŠä»–åšæˆæ–¹æ³•å“ˆå“ˆ&gt;&gt;&gt; def func():... return time.time()&gt;&gt;&gt; type(func)&lt;class 'function'&gt;# æ„å›¾æ˜¯ä¼ åˆ°ä¸€ä¸ªdictä¸­ï¼Œéœ€è¦ä»–æ‰§è¡Œçš„æ—¶å€™å†æ‰§è¡Œdata = &#123; 'test': func&#125;æ–¹æ³• - 1:å·²ä¸æŽ¨èï¼Œè¯¦è§è¿™ç¯‡æ–‡ç« .12345678&gt;&gt;&gt; import types&gt;&gt;&gt; if isinstance(data['test'], types.FunctionType):... print(True)...True# è¿™æ—¶å€™å°±èƒ½åœ¨printçš„ä½ç½®æ‰§è¡Œï¼š# data['test']()# èŽ·å–åˆ°å½“å‰çš„æ—¶é—´æˆ³äº†æ–¹æ³• - 2:è¿™ç§æ–¹æ³•æ˜¯python3çš„ï¼Œè€Œä¸”ä¸ç”¨import typesï¼Œå¹¶ä¸”è¯­æ³•æ›´ç²¾ç‚¼ã€‚12&gt;&gt;&gt; callable(data['test'])Trueâš ï¸ æ³¨æ„ï¼š å¦‚æžœè¿™æ˜¯é’ˆå¯¹Python 3.xï¼Œä½†åœ¨3.2ä¹‹å‰ï¼Œè¯·æ£€æŸ¥è¯¥å¯¹è±¡æ˜¯å¦å…·æœ‰__call__å±žæ€§ã€‚ä½ å¯ä»¥è¿™æ ·åšï¼š12&gt;&gt;&gt; hasattr(data['func'], '__call__')True Tips02_è£…é¥°å™¨ç”¨æ³•æ–¹æ³• - 1: å•ä¸ªè£…é¥°å™¨1234567891011def decorator(func): # funcä¸ºå½¢å‚ï¼Œå¯è‡ªå®šä¹‰ def wrapper(name): # è¿™é‡Œè¢«è£…é¥°å‡½æ•°æ˜¯å•¥å°±è¦ä¼ å…¥ä¸€è‡´çš„å‚æ•° func(name) # è¿™é‡Œå¯ä»¥ç›´æŽ¥è°ƒç”¨ print('nice to meet you') return wrapper # è¿™é‡Œè¿”å›žå†…éƒ¨å‡½æ•°ï¼Œä½†æ˜¯å‡½æ•°ä¸èƒ½å¸¦()ï¼Œæ˜¯ä¸èƒ½æ‰§è¡Œçš„@decorator # è£…é¥°å™¨çš„åå­—ï¼Œå¯è‡ªå®šä¹‰def some_func(name): # è¦è£…é¥°çš„å‡½æ•° print(name)some_func('my name is') # è¿™é‡Œæ‰æ­£å„¿å…«ç»æ‰§è¡Œäº†æ–¹æ³• - 2: å•ä¸ªè£…é¥°å™¨(å¸¦è¿”å›žå€¼)Demo: day15_decorator.py1234567891011121314151617181920212223242526272829def decorator(func): def inner(a, b): print('add &gt;&gt; something here.') result = func(a, b) print('add &gt;&gt; another here.') return result return inner@decoratordef hello_world(a, b): if a == b: print('hello &gt;&gt; a like b!') return True else: print('hello &gt;&gt; a unlike b..') return Falsea = 1b = 0output = hello_world(a, b)print('return &gt;&gt;', output)# OUT:add &gt;&gt; something here.hello &gt;&gt; a unlike b..add &gt;&gt; another here.return &gt;&gt; Falseæ–¹æ³• - 3: å¤šä¸ªè£…é¥°å™¨123456789101112131415161718def decorator(func): def wrapper(): func() print('decorator 01') return wrapperdef decorator2(func): def wrapper(): func() print('decorator 02') return wrapper@decorator@decorator2def some_func(): print('helloworld')some_func()æ–¹æ³• - 4: å¸¦å¯å˜å‚æ•°123456789101112131415161718192021222324def decorator(func): def wrapper(message, *args, **kargs): func(message, *args, **kargs) print('nice to meet you') print('è£…é¥°å™¨å¤„ç†è¿‡çš„message:&#123;&#125;'.format(message)) return wrapper@decoratordef some_func(message, *args, **kargs): print(message) for i in args: print(i) print(kargs)list_data = ['a', 'b', 'c']dict_data = &#123; 'd': '1', 'e': '2'&#125;# å•ä¸ªä¼ å…¥ä¹Ÿå¯ä»¥ï¼Œkargsåˆ™ä¸º&#123;&#125;# some_func('å•ä¸ªå¯å˜å‚æ•°:', *list_data)some_func('å¤šä¸ªå¯å˜å‚æ•°:', *list_data, **dict_data)æ–¹æ³• - 5: è£…é¥°ç±»ä¸­çš„å‡½æ•°1234567891011121314# æ³¨æ„è¿™é‡Œå¿…é¡»åœ¨ç±»å¤–é¢def make_more_pretty(func): def inner(self): # è¿™é‡Œè¦å°†selfä¼ è¿‡æ¥ func(self) # åŒæ · print('Fine') return innerclass A: @make_more_pretty def some_func(self): print('hello world')a = A()a.some_func()æ–¹æ³• - 6: é™„åŠ å‚æ•°(è²Œä¼¼æ²¡åŠžæ³•ä¼ å˜é‡)1234567891011121314151617181920212223242526def update(update): def decorator(func): print(update) def wrapper(message, *args, **kargs): func(message, *args, **kargs) print('nice to meet you') print('è£…é¥°å™¨å¤„ç†è¿‡çš„message:&#123;&#125;'.format(message)) return wrapper return decorator@update('update') # è¿™é‡Œdecoratoræ¢updatedef some_func(message, *args, **kargs): print(message) for i in args: print(i) print(kargs)list_data = ['a', 'b', 'c']dict_data = &#123; 'd': '1', 'e': '2'&#125;# some_func('å•ä¸ªå¯å˜å‚æ•°:', *list_data)some_func('å¤šä¸ªå¯å˜å‚æ•°:', *list_data, **dict_data)ç”¨é€” - 1: è®¾å®šåˆå§‹å€¼ï¼Œæˆ–è€…ä¿æŒä¸€ä¸ªå˜é‡çš„å€¼å¯ä»¥ç”¨æ¥è®©ä¸Šå±‚å‡½æ•°ï¼ˆæŒ‡closingå‡½æ•°ï¼‰çš„å˜é‡æŒä¹…åŒ–ï¼ˆè®¾ç½®ä¸ªåˆå€¼æˆ–è€…å®šå€¼ï¼‰ã€‚123456789101112131415def foo(x): def bar(var): return x + var return bar# æˆ‘ä¸€å¼€å§‹æœ‰10mlç‰›å¥¶å’Œ20mlæ°´water = foo(10)milk = foo(20)# æˆ‘å„ä¹°20ml, çŽ°åœ¨æˆ‘æœ‰30mlæ°´ï¼Œ40mlç‰›å¥¶# åˆå§‹å€¼è¢«ä¿ç•™äº†print(water(20))print(milk(20))# å› æ­¤è¿™ä¸ªæ–¹æ³•å¯ä»¥ç”¨äºŽè®¾ç½®åˆå€¼ Tips03_ä»¤å±€éƒ¨å˜é‡å¤–éƒ¨å¯è®¿é—®æ–¹æ³• - 1:å¦‚ä½•è®©å±€éƒ¨å˜é‡å˜å¾—å¤–å±‚å¯ä»¥è®¿é—®1234567891011121314def outer_function(): a = 5 def inner_function(): nonlocal a # å…³é”®åœ¨äºŽè¿™ä¸ª a = 10 print("Inner function: ",a) inner_function() print("Outer function: ",a)outer_function()# OUTï¼šInner function: 10Outer function: 5 Tips04_å¼‚å¸¸å¤„ç†åŽŸåˆ™æ ¼å¼ï¼šæµç¨‹ï¼š æ–‡ä»¶æ“ä½œ Tips01_èŽ·å–ç»å¯¹è·¯å¾„å‚è€ƒ: pythonèŽ·å–æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ - CSDNåšå®¢ä½¿ç”¨ç±»ä¸­çš„__file__å±žæ€§1current_dir = os.path.dirname(__file__)æˆ–è€…, ä½¿ç”¨inspectä¸‹çš„getfile()èŽ·å–åˆ°å½“å‰æ–‡ä»¶çš„ç»å¯¹è·¯å¾„, ç„¶åŽåœ¨é€šè¿‡os.path.dirnameèŽ·å–åˆ°å½“å‰æ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„.1234import inspectimport oscurrent_dir = os.path.dirname(inspect.getfile(inspect.currentframe()))åŽé¢å¯ä»¥ä½¿ç”¨os.pathæ‹¼æŽ¥ç›¸å¯¹è·¯å¾„1self.path = os.path.join(current_dir, 'conf/demo_yaml.yml')åœºæ™¯ - 1: é…ç½®æ–‡ä»¶çš„è¯»å–.åœ¨è·¨ç›®å½•å¼•ç”¨çˆ¶ç±»çš„åœºæ™¯ä¸­, å¦‚æžœçˆ¶ç±»ä¸­ä½¿ç”¨äº†ç›¸å¯¹è·¯å¾„çš„æ–¹å¼èŽ·å–æ–‡ä»¶è·¯å¾„, åˆ™å­ç±»åœ¨è§¦å‘ç›¸å…³åŠ¨ä½œçš„æ—¶å€™ä¼šå‡ºçŽ°&quot;FileNotFound&quot;é”™è¯¯, å› æ­¤éœ€è¦åœ¨çˆ¶ç±»ä¸­ä½¿ç”¨ç»å¯¹è·¯å¾„èŽ·å–æ–‡ä»¶è·¯å¾„.ä¾‹å¦‚å½“å‰é¡¹ç›®çš„ç›®å½•ç»“æž„å¦‚ä¸‹:12345conf/ default.ini # è¡¨ç¤ºconf/defult.ini, ä¸‹åŒscript/ child.pyfather.pyfather.pyä¸­æœ‰å¯¹default.inié…ç½®æ–‡ä»¶çš„å¼•ç”¨åŠ¨ä½œ:12345678910class Father: def __init__(self): self.path = 'conf/default.ini' # !!è¿™é‡Œ def read(self): with open(self.path, 'r') as f: for line in f: pass print('read!!')child.pyä¸­ç»§æ‰¿äº†çˆ¶ç±», å¹¶ä¸”æƒ³è¦è°ƒç”¨çˆ¶ç±»çš„read()æ–¹æ³•:12345678910111213141516171819from test_import import Fatherclass Child(Father): def __init__(self): super(Child, self).__init__() def run(self): self.read() def get_path(self): return self.pathif __name__ == '__main__': child = Child() path = child.get_path() # print(path) child.run() # è¿™é‡Œæ˜¯å°è£…äº†ä¸€ä¸‹..å®žé™…ä¸Šè¿˜æ˜¯è°ƒç”¨äº†çˆ¶ç±»æ–¹æ³•æ‰§è¡Œä¼šæŠ¥é”™:1FileNotFoundError: [Errno 2] No such file or directory: &apos;conf/default.ini&apos;åŽŸå› è‡ªç„¶æ˜¯ç¨‹åºä¸ä¼šä»¥fatherçš„ç›®å½•ä¸ºå½“å‰ç›®å½•, è€Œæ˜¯ä»¥childçš„, æ‰€ä»¥æ‰¾ä¸åˆ°confç›®å½•æ–¹æ³• - 1:è§£å†³æ–¹æ¡ˆå°±æ˜¯è¦åœ¨çˆ¶ç±»ä¸­èŽ·å–åˆ°æ–‡ä»¶çš„ç»å¯¹è·¯å¾„, è¿™æ ·çˆ¶ç±»å°±èƒ½æ‰¾åˆ°æ–‡ä»¶äº†.ä¿®æ”¹åŽçš„father.pyå¦‚ä¸‹:12345678class Father: def __init__(self): #self.path = 'conf/default.ini' current_dir = os.path.dirname(__file__) self.path = os.path.join (current_dir, 'conf/default.yml') ... Tips02_æ–‡ä»¶æ“ä½œæ–¹å¼r: open for reading (default)w: open for writing, truncating the file firstx: open for exclusive creation, failing if the file already existsa: open for writing, appending to the end of the file if it existsb: binary modet: text mode (default)+: open a disk file for updating (reading and writing)U: universal newlines mode (deprecated)åœºæ™¯ - 1:å†™æ—¥å¿—çš„æƒ…å†µ, å¦‚æžœä¸Šä¸€ä¸ªæ—¥å¿—å­˜åœ¨, é‚£ä¹ˆå°±å°†å…¶é‡å‘½å.æ–¹æ³• - 1:é¦–å…ˆåˆ¤æ–­é»˜è®¤çš„æ—¥å¿—æ–‡ä»¶æ˜¯å¦å­˜åœ¨, å­˜åœ¨åˆ™å°†æŠŠåŽŸå§‹çš„logæ–‡ä»¶ä½¿ç”¨os.rename()è¿›è¡Œé‡å‘½å, å†è¿›è¡Œæ–‡ä»¶åˆ›å»º.123456789101112131415161718192021import loggingimport osimport timepath = 'log/logging_from_logger01.log'main_log = logging.Logger(name='main', level=logging.INFO)if os.path.exists(path): # 1. èŽ·å–åŽŸæ—¥å¿—çš„ç›®å½• f_dir = os.path.dirname(path) # 2. èŽ·å–åŽŸæ—¥å¿—çš„åç§°ä»¥åŠåŽç¼€ f_name, f_ext = os.path.splitext(os.path.basename(path)) # 3. é‡æ–°ç»„åˆæ–‡ä»¶å new_name = ''.join([f_name, time.strftime('_%Y%m%d%H%M%S', time.localtime()), f_ext]) os.rename(path, os.path.join(f_dir, new_name))main_log_handle = logging.FileHandler(path, mode='xt')main_log.addHandler(main_log_handle)main_log.info('test') å…¶ä»– Tips01_HTTP_HEAD_UAæž„å»º12345678910111213141516from urllib.parse import urlparse as parsy...user_agents = ['Mozilla/5.0 (X11; Linux i686; rv:60.0) Gecko/20100101 Firefox/60.0','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36''Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36 OPR/43.0.2442.991'] headers = &#123; 'Host' : parsy(url).hostname, 'User-Agent' : random.choice(user_agents), 'Accept' : 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'Accept-Language' : 'en-US,en;q=0.5', 'Accept-Encoding' : 'deflate', 'Connection' : 'close', 'DNT' : '1', 'Connection' : 'close'&#125; Tips02_æŽ§åˆ¶å°å­—ä½“é¢œè‰²æœ€åŽå‡ ä¸ªæ˜¯æ¯”è¾ƒå¸¸ç”¨æ‰“èµ¢æ—¥å¿—çš„ç±»åˆ«æ ‡è¯†ï¼Œäº†è§£ä¸€ä¸‹ã€‚1234567891011white = &apos;\033[97m&apos;green = &apos;\033[92m&apos;red = &apos;\033[91m&apos;yellow = &apos;\033[93m&apos;end = &apos;\033[0m&apos;back = &apos;\033[7;91m&apos;info = &apos;\033[33m[!]\033[0m&apos;que = &apos;\033[34m[?]\033[0m&apos;bad = &apos;\033[31m[-]\033[0m&apos;good = &apos;\033[32m[+]\033[0m&apos;run = &apos;\033[97m[~]\033[0m&apos;å…¸åž‹çš„bashé¢œè‰²1print(&apos;\033[1;97m things... \033[0m&apos;) å£°æ˜Žç‰ˆæƒï¼š 2018-nowï¼ŒðŸ‡¨ðŸ‡³ï¼Œzangjiaao&lt;zangjiaao@yahoo.com&gt;ç”±å®¶æµ©åˆ›ä½œå¹¶ç»´æŠ¤çš„zangjiaao's blogåšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜Žå¤–ï¼Œå‡é‡‡ç”¨&quot;ç½²å-éžå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº«4.0(CC BY-NC-SA 4.0)å›½é™…è®¸å¯è¯&quot;ã€‚æœ¬æ–‡é¦–å‘äºŽzangjiaaoâ€™s blogåšå®¢ï¼Œè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ã€‚]]></content>
      <categories>
        <category>04_å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>é€ŸæŸ¥</tag>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Regularæ­£åˆ™ç¬”è®°]]></title>
    <url>%2F2018%2F06%2F21%2FRegular%E6%AD%A3%E5%88%99%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[æ¦‚è¿°ï¼š åœ¨å­¦ä¹ Python reåº“çš„æ—¶å€™å‘çŽ°æ­£åˆ™æ˜¯ç¥žå™¨ï¼Œä¸è¿‡æ¯”è¾ƒéš¾è®°ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œå¤‡å¿˜â€¦ æ­£åˆ™è¡¨è¾¾å¼Tipså¤§å°å†™æ•°é‡è´ªå©ª/éžè´ªå©ªé¢„æŸ¥(?:pattern)(?=pattern)(?!pattern)(?&lt;=pattern)å£°æ˜Ž å¤§å°å†™ä¸åŒºåˆ†å¤§å°å†™ï¼š ä¸‹é¢æ˜¯ä¸¤ç§å†™æ³•ï¼š12345&gt;&gt;&gt; re.findall('(?i:p)ython', data)['python', 'Python']&gt;&gt;&gt; re.findall('(?i)python')['python', 'Python']åŒºåˆ†å¤§å°å†™ï¼š é»˜è®¤æ˜¯åŒºåˆ†çš„ï¼Œå¼ºåˆ¶åŒºåˆ†ï¼š12&gt;&gt;&gt; re.findall('(?-i:p)ython')['python'] æ•°é‡*ï¼š0æˆ–æ›´å¤šæ¬¡+ï¼š1æˆ–æ›´å¤šæ¬¡?ï¼š0æˆ–1æ¬¡ è´ªå©ª/éžè´ªå©ªé»˜è®¤æ˜¯è´ªå©ªæ¨¡å¼ï¼ŒåŠ ä¸Š?åŽå˜ä¸ºéžè´ªå©ªæ¨¡å¼ï¼š*?ã€+?ã€??å‡ä¸ºéžè´ªå©ªæ¨¡å¼12345&gt;&gt;&gt; data = '&lt;a&gt; b &lt;c&gt;'&gt;&gt;&gt; re.findall('\&lt;.*\&gt;', data)['&lt;a&gt; b &lt;c&gt;']&gt;&gt;&gt; re.findall('\&lt;.*?\&gt;', data)['&lt;a&gt;', '&lt;c&gt;']{m,n}?åŒæ ·è½¬åŒ–ä¸ºéžè´ªå©ªæ¨¡å¼12345&gt;&gt;&gt; data = 'aaaaaa'&gt;&gt;&gt; re.findall('a&#123;3,5&#125;', data)['aaaaa']&gt;&gt;&gt; re.findall('a&#123;3,5&#125;?', data)['aaa', 'aaa'] é¢„æŸ¥ (?:pattern)(?:pattern): æ¨¡ç³ŠæŸ¥æ‰¾, å¯æœ‰å¯æ— , å¹¶ä¸”å°†åŒ¹é…åˆ°çš„ç»“æžœä¹ŸåŒ…å«åœ¨å…¨éƒ¨ç»“æžœä¹‹ä¸­.ä¾‹å¦‚:12345678data = """line."""prog = re.compile(r'line(?:\.)', flags=0)result = prog.search(data)print(result.group())# ç»“æžœ:line.patternä¸­æ”¯æŒ|å¯åŒæ—¶æŸ¥æ‰¾å¤šä¸ªä¸åŒç»“æžœ. (?=pattern)x(?=pattern): æ­£å‘è‚¯å®šé¢„æŸ¥(look ahead positive assert), åŒæ ·æ˜¯æ¨¡ç³ŠæŸ¥æ‰¾, å¦‚æžœåŒ¹é…åˆ°äº†pattern, é‚£å°±è®¤ä¸ºå‰é¢çš„è¡¨è¾¾å¼xæˆç«‹. è¿™ä¸Ž(?:)å¾ˆç›¸ä¼¼, ä¸è¿‡è¾“å‡ºä¸­ä¸åŒ…å«patternæ‰€åŒ¹é…çš„å†…å®¹, è€Œåªæœ‰x.ä¾‹å¦‚:12345678data = """line."""prog = re.compile(r'line(?=\.)', flags=0)result = prog.search(data)print(result.group())# ç»“æžœ, æ³¨æ„ç»“å°¾çš„å¥å·:linepatternä¸­æ”¯æŒ|å¯åŒæ—¶æŸ¥æ‰¾å¤šä¸ªä¸åŒç»“æžœ. (?!pattern)å¦‚æžœè¯´(?=)æ˜¯ç™½åå•, é‚£ä¹ˆ(?!)å°±æ˜¯é»‘åå•ç‰ˆæœ¬. (?&lt;=pattern)åå‘(look behind)è‚¯å®šé¢„æŸ¥, å°±æ˜¯æŸ¥åŽé¢çš„è¡¨è¾¾å¼ ,ä¸¾ä¸ªä¾‹å­:æœ‰ä»¥ä¸‹å­—ç¬¦ä¸²:ABCA(?=B): å¯ä»¥åŒ¹é…, ç»“æžœä¸ºA;(?=B)C: ä¸èƒ½åŒ¹é…;(?&lt;=B)C: å¯ä»¥åŒ¹é…, ç»“æžœä¸ºC; å£°æ˜Žç‰ˆæƒï¼š 2018-nowï¼ŒðŸ‡¨ðŸ‡³ï¼Œzangjiaao&lt;zangjiaao@yahoo.com&gt;ç”±å®¶æµ©åˆ›ä½œå¹¶ç»´æŠ¤çš„zangjiaao's blogåšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜Žå¤–ï¼Œå‡é‡‡ç”¨&quot;ç½²å-éžå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº«4.0(CC BY-NC-SA 4.0)å›½é™…è®¸å¯è¯&quot;ã€‚æœ¬æ–‡é¦–å‘äºŽzangjiaaoâ€™s blogåšå®¢ï¼Œè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[SQLè¯­æ³•é€ŸæŸ¥]]></title>
    <url>%2F2018%2F06%2F14%2FSQL%E8%AF%AD%E6%B3%95%E9%80%9F%E6%9F%A5%2F</url>
    <content type="text"><![CDATA[æ¦‚è¿°ï¼š åœ¨ä½¿ç”¨pythonæŽ§åˆ¶mysql(mariadb)çš„æ—¶å€™ä¸æ‡‚SQLçœŸæ˜¯æ€¥æ­»äººðŸ˜°â€¦å­¦ä¹ ä¸€ä¸‹SQLè¯­æ³•ï¼Œå¡«ä¸€ä¸‹ä»¥å‰çš„å‘â€¦ä¸»è¦å‚è€ƒã€ŠMySQLå¿…çŸ¥å¿…ä¼šã€‹è¿™æœ¬æ•™æï¼Œå†™çš„ä¸é”™å®‰åˆ©ä¸€ä¸‹~ SQLè¯­æ³•é€ŸæŸ¥è¯­æ³•çº¦å®šå¢žåˆ›å»ºæ•°æ®åº“_CREATE_DATABASEåˆ›å»ºè¡¨_CREATE_TABLEåˆ åˆ é™¤æ•°æ®åº“_DROP_DATABASEåˆ é™¤è¡¨_DROP_TABLEåˆ é™¤æ¡ç›®_DELETEæ”¹ä¿®æ”¹æ•°æ®_UPDATEæ’å…¥æ•°æ®_INSERT_INTOæŸ¥è¡¨ä¸­åˆ—ä¿¡æ¯_SHOW_COLUMNSé™åˆ¶_LIMITåŽ»é‡_DISTINCTæŽ’åº_ORDER_BYè¿‡æ»¤_WHEREè¿ç§»æŸ¥æ‰¾æ•°æ®é€šé…ç¬¦æœç´¢å‡½æ•°å£°æ˜Ž è¯­æ³•çº¦å®šè¯­æ³•éµå¾ªåœ¨MySQLä¸­helpä¸­çš„ç»“æžœ, ä½¿ç”¨ä»¥ä¸‹æ ¼å¼æè¿°.{A|B}è¡¨ç¤º&quot;A&quot;æˆ–è€…&quot;B&quot;å¿…é¡»æœ‰ä¸€ä¸ª;[A | B]è¡¨ç¤º&quot;A&quot;æˆ–è€…&quot;B&quot;æˆ–è€…æ²¡æœ‰;[A]è¡¨ç¤º&quot;A&quot;æˆ–è€…æ²¡æœ‰;A[ B]è¡¨ç¤º&quot;A&quot;æˆ–è€…&quot;A B&quot;.(A,)è¡¨ç¤ºæ‹¬å·åŒ…è£¹çš„æ•°æ®, æ²¡æœ‰ç‰¹æ®Šå«ä¹‰.ä¾‹å¦‚:1234SHOW [FULL] COLUMNS&#123;FROM | IN&#125; tbl_name[&#123;FROM | IN&#125; db_name][LIKE 'pattern' | WHERE expr]æ¯ä¸ªé¡¹ç›®çš„è¯´æ˜Žæ ¼å¼ä¸º:è¯­æ³•: é¡¾åæ€ä¹‰.è¯´æ˜Ž: å¯¹äºŽè¯­æ³•ä¸­ä¸€äº›å…³é”®å­—çš„è¯´æ˜Ž.ä¾‹å­: (å¯é€‰)ä¸€äº›å¸¸ç”¨çš„ä¾‹å­, å„ä¸ªä¾‹å­å¯ä»¥ä½¿ç”¨æˆ–æ¥åˆ†å‰².è¡¥å……: (å¯é€‰)ä¸€äº›ç‰¹æ®Šæƒ…å†µçš„è¯´æ˜Ž. å¢ž åˆ›å»ºæ•°æ®åº“_CREATE_DATABASEè¯­æ³•:123456CREATE &#123;DATABASE | SCHEMA&#125; [IF NOT EXISTS] db_name [create_specification] ...create_specification: [DEFAULT] CHARACTER SET [=] charset_name | [DEFAULT] COLLATE [=] collation_nameè¯´æ˜Ž:IF NOT EXISTS: è¡¨ç¤ºåœ¨åˆ›å»ºæ•°æ®åº“ä¹‹å‰, å…ˆåˆ¤æ–­æ•°æ®åº“æ˜¯å¦å­˜åœ¨, å­˜åœ¨å°±ä¸åˆ›å»º.create_specification: åˆ›å»ºæ—¶çš„ä¸€äº›å®šä¹‰, å¯ä»¥åœ¨åˆ›å»ºæ•°æ®åº“ä¹‹å‰é…ç½®æ•°æ®åº“çš„ç¼–ç æ ¼å¼, Mariadbé»˜è®¤ä½¿ç”¨latin1, ä¸­æ–‡æ”¯æŒä¸å¤ªå¥½, å¯ä»¥æ”¹ä¸ºutf8, æ›´å¤šæ”¯æŒå¯è§Supported Character Sets and Collations.ä¾‹å­:1CREATE DATABASE tmp;æˆ–:123CREATE DATABASE tmp CHARACTER SET = 'utf8' COLLATE = 'utf8_general_ci';è¡¥å……:åœºæ™¯: åˆ›å»ºæ•°æ®åº“åŽ, å‘çŽ°æ•°æ®åº“ç¼–ç æ ¼å¼ä¸å¯¹, å¯¼è‡´ä¸­æ–‡å­—ç¬¦ä¹±ç .è§£å†³æ–¹æ¡ˆ: éœ€è¦ä¿®æ”¹æ•°æ®åº“çš„å­—ç¬¦ç¼–ç .é¦–å…ˆ, æŸ¥çœ‹å½“å‰æ•°æ®åº“ç¼–ç (MariaDBä¸‹):1SELECT * FROM INFORMATION_SCHEMA.SCHEMATA;ç„¶åŽ, ä¿®æ”¹å¯¹åº”æ•°æ®åº“çš„ç¼–ç :123ALTER DATABASE dbname CHARACTER SET = 'utf8' COLLATE = 'utf8_general_ci';äº†è§£æ›´å¤š, å¯æŸ¥çœ‹Setting Character Sets and Collations. åˆ›å»ºè¡¨_CREATE_TABLEè¯­æ³•:1234567891011121314151617CREATE [TEMPORARY] TABLE [IF NOT EXISTS] tbl_name (create_definition,...) [table_options] [partition_options]Or:CREATE [TEMPORARY] TABLE [IF NOT EXISTS] tbl_name [(create_definition,...)] [table_options] [partition_options] select_statementOr:CREATE [TEMPORARY] TABLE [IF NOT EXISTS] tbl_name &#123; LIKE old_tbl_name | (LIKE old_tbl_name) &#125;è¯´æ˜Ž:TEMPORARY: åˆ›å»ºé›¶æ—¶è¡¨, å°è¯•åˆ›å»ºè¡¨åŽ, æŸ¥è¯¢å‘çŽ°å¹¶ä¸å­˜åœ¨, ä¸å¸¸ç”¨.create_definition: è¡¨ä¸­å„å­—æ®µçš„å®šä¹‰, æ ¼å¼ä¸º:1234col_name data_type column_definition# ä¾‹å¦‚id INT(5) NOT NULL AUTO_INCREMENT PRIMARY KEYå¸¸ç”¨çš„å‡ ä¸ªcolumn_definition:[PRIMARY ]KEY: è®¾ç½®ä¸»é”®, PRIMARYå¯ä»¥ä¸å†™, ä¸€ä¸ªè¡¨åªèƒ½æœ‰ä¸€ä¸ªä¸»é”®;[NOT NULL| NULL]: è®¾ç½®ä¸ºéžç©ºæˆ–è€…ä¸ºç©º;AUTO_INCREMENT: è®¾ç½®æ˜¯å¦è‡ªå¢ž, å¯;DEFAULT default_value: è®¾ç½®åˆ›å»ºæ—¶é»˜è®¤çš„å†…å®¹;å¸¸ç”¨çš„å‡ ä¸ªdata_type, æ›´å¤šå¯ä»¥çœ‹å®˜æ–¹æ–‡æ¡£:INT|INTEGER[(length)]: æ•´æ•°, ä¿©ä¸€ä¸ªæ„æ€;CHAR[(length)] [CHARACTER SET charset_name] [COLLATE collation_name]: å­—ç¬¦ä¸², åŒæ—¶å¯ä»¥è®¾ç½®å­—ç¬¦ç¼–ç ;VARCHAR(length) [CHARACTER SET charset_name] [COLLATE collation_name]: å¯å˜é•¿å­—ç¬¦ä¸², åŒæ ·å¯ä»¥è®¾ç½®å­—ç¬¦ç¼–ç ;BINARY[(length)]: äºŒè¿›åˆ¶;VARBINARY(length): å¯å˜é•¿äºŒè¿›åˆ¶;DATE|TIME|TIMESTAMP|DATETIME|YEAR: æ—¶é—´æ ¼å¼, ä½†æ˜¯åªæœ‰TIMESTAMPå¯ä»¥è‡ªåŠ¨åœ¨æ’å…¥æ•°æ®æˆ–è€…æ›´æ–°æ—¶è‡ªåŠ¨æ›´æ–°, å…¶ä»–çš„æ ¼å¼éƒ½æ˜¯èµ·åˆ°é™åˆ¶è¾“å…¥çš„ä½œç”¨, å¯ä»¥å‚è€ƒ[è¡¥å……1].TEXT|:BOOL: å¸ƒå°”å€¼, å…¶å®žå°±æ˜¯TINIYINT(1), éž0çš„æ•°éƒ½ä¼šä¸ºtruetable_options: è¡¨çš„ä¸€äº›é€‰é¡¹, å¯ä»¥åœ¨è¿™é‡ŒæŒ‡å®šENGINEä¹‹ç±»çš„, å…·ä½“å¯ä»¥é”®å…¥help CREATE TABLEæŸ¥è¯¢.ä¾‹å­:1234567CREATE TABLE user( id INT(5) NOT NULL AUTO_INCREMENT, username VARCHAR(20) NOT NULL, userpass VARCHAR(20) NOT NULL, email VARCHAR(50), PRIMARY KEY (id))âš ï¸ æ³¨æ„1: åªå…è®¸æœ‰ä¸€ä¸ªè‡ªåŠ¨åˆ—, ä¾‹å¦‚AUTO_INCREMENT, å¹¶ä¸”å…¶å¿…é¡»è¢«å®šä¹‰ä¸ºä¸»é”®, ä¾‹å¦‚PRIMARY KEY (id).æˆ–:12345CREATE TABLE IF NOT EXISTS tbl_name( id INT NOT NULL AUTO_INCREMENT KEY, age INT(2) DEFAULT 18, name CHAR(50) NOT NULL) ENGINE = InnoDB, CHARACTER SET = utf8;è¡¥å……1:ä»¥ä¸‹ä¸ºäº†æ–¹ä¾¿å›žå¿†, å…·ä½“å¯ä»¥çœ‹å®˜æ–¹æ–‡æ¡£.DATE: YYYY-MM-DD, åˆ†éš”ç¬¦å¯ä»¥æ˜¯ä»»æ„ç¬¦å·, ä½†æ˜¯æœ€ç»ˆéƒ½ä¼šè¢«è½¬æ¢ä¸ºé»˜è®¤æ ¼å¼.TIME: HH:MM:SS.ssssss, æœ€åŽçš„æ—¶é—´æˆ³æœ€å¤š6ä½, ä¸æŒ‡å®šä¹Ÿå¯ä»¥.DATETIME: YYYY-MM-DD HH:MM:SSTIMESTAMP: åŒä¸Š, ä½†æ˜¯æ˜¯è‡ªåŠ¨ç”Ÿæˆè‡ªåŠ¨æ›´æ–°YEAR: é™åˆ¶äº†å››ä½æ•°å­— åˆ  åˆ é™¤æ•°æ®åº“_DROP_DATABASEè¯­æ³•:1DROP DATABASE `db_name`; åˆ é™¤è¡¨_DROP_TABLEè¯­æ³•:1DROP TABLE `table_name`; åˆ é™¤æ¡ç›®_DELETEè¯­æ³•:12DELETE FROM userWHERE username=%s æ”¹ ä¿®æ”¹æ•°æ®_UPDATEè¯­æ³•:12345678910111213# å•è¡¨ä¿®æ”¹è¯­æ³•:UPDATE [LOW_PRIORITY] [IGNORE] table_reference SET col_name1=&#123;expr1|DEFAULT&#125; [, col_name2=&#123;expr2|DEFAULT&#125;] ... [WHERE where_condition] [ORDER BY ...] [LIMIT row_count]# å¤šè¡¨ä¿®æ”¹è¯­æ³•:UPDATE [LOW_PRIORITY] [IGNORE] table_references SET col_name1=&#123;expr1|DEFAULT&#125; [, col_name2=&#123;expr2|DEFAULT&#125;] ... [WHERE where_condition]æ”¯æŒåŒæ—¶ä¿®æ”¹å¤šä¸ªè¡¨, ä½†ä¿®æ”¹å¤šä¸ªè¡¨æ—¶æ— æ³•ä½¿ç”¨ORDER BYä»¥åŠLIMITå…³é”®å­—.è¯´æ˜Ž:ä¾‹å­:123UPDATE userSET username=%sWHERE username=%sæ³¨æ„è¿™é‡Œçš„é¡ºåºï¼Œå‰é¢æ‰æ˜¯æ›´æ–°çš„å†…å®¹ æ’å…¥æ•°æ®_INSERT_INTOè¯­æ³•:12345INSERT INTO test( username, userpass, email)VALUE(%s, %s, %s) æŸ¥ è¡¨ä¸­åˆ—ä¿¡æ¯_SHOW_COLUMNSè¯­æ³•:123SHOW [FULL] COLUMNS&#123;FROM | IN&#125; tbl_name[&#123;FROM | IN&#125; db_name] [LIKE 'pattern' | WHERE expr]ä¾‹å­:12SHOW COLUMNSFROM tmp;æˆ–:123# æ˜¾ç¤ºæ›´å¤šä¿¡æ¯SHOW FULL COLUMNSFROM tmp;æˆ–:12SHOW COLUMNSFROM test.tmp;æˆ–:123SHOW COLUMNSFROM tmpFROM db_name é™åˆ¶_LIMITè¯­æ³•1:123SELECT `col_name`FROM `tbl_name`LIMIT 1, 10è¡¨ç¤ºLIMIT ä»Žç¬¬å‡ è¡Œå¼€å§‹ï¼Œè¾“å‡ºçš„æœ€å¤§è¡Œæ•°, å•ä¸ªä»£è¡¨LIMIT è¾“å‡ºçš„æœ€å¤§è¡Œæ•°ã€‚âš ï¸æ³¨æ„: â€œä»Žç¬¬å‡ è¡Œå¼€å§‹&quot;çš„ç´¢å¼•å·æ˜¯ä»Ž0å¼€å§‹çš„, è€Œä¸æ˜¯1, å› æ­¤LIMIT 1, 1å®žé™…æŸ¥è¯¢çš„ç¬¬äºŒè¡Œ, LIMIT 0, 1æ‰æ˜¯ä»Žç¬¬ä¸€è¡Œå¼€å§‹. è§&quot;ä¾‹å­1â€.è¯­æ³•2:ä»ŽMySQL5å¼€å§‹æ”¯æŒOFFSET, ä»£æ›¿&quot;ä»Žç¬¬å‡ è¡Œå¼€å§‹&quot;, è¯­æ³•å¦‚ä¸‹:123SELECT `col_name`FROM `tbl_name`LIMIT 10 OFFSET 1è¿™é‡Œæ‰€è¾“å‡ºçš„ç»“æžœä¸Ž&quot;è¯­æ³•1&quot;ä¸€è‡´.ä¾‹å­1:tmpè¡¨ä¸­æœ‰ä»¥ä¸‹æ•°æ®:123456789MariaDB [test]&gt; SELECT * FROM tmp;+----+------+| id | name |+----+------+| 1 | A || 2 | B || 3 | C || 4 | D |+----+------+ä½¿ç”¨LIMIT 1, 1é™åˆ¶æŸ¥è¯¢, è¾“å‡ºäº†ç¬¬äºŒè¡Œ.123456MariaDB [test]&gt; SELECT * FROM tmp LIMIT 1, 1;+----+------+| id | name |+----+------+| 2 | B |+----+------+ä½¿ç”¨LIMIT 0, 1æŸ¥è¯¢, æ‰è¾“å‡ºç¬¬ä¸€è¡Œ.123456MariaDB [test]&gt; SELECT * FROM tmp LIMIT 0, 1;+----+------+| id | name |+----+------+| 1 | A |+----+------+ åŽ»é‡_DISTINCTè¯­æ³•:12SELECT DISTINCT `column_name1`, `column_name2`FROM `table_name`;âš ï¸æ³¨æ„: å¦‚æžœæŒ‡å®šå¤šåˆ—, åªæœ‰æŒ‡å®šçš„æ‰€æœ‰åˆ—éƒ½ç›¸åŒæ‰ä¼šè¢«è¿‡æ»¤æŽ‰, è§æœ¬èŠ‚[è¯´æ˜Ž2].è¯´æ˜Ž1:ä»¥ä¸‹æ¼”ç¤ºå•åˆ—æŸ¥è¯¢. æœ‰ä»¥ä¸‹æ•°æ®:1234567891011121314MariaDB [test]&gt; select * from distinct_test;+---------+| vend_id |+---------+| 1001 || 1001 || 1002 || 1003 || 1004 || 1004 || 1004 || 1005 |+---------+8 rows in set (0.001 sec)å¸Œæœ›æŸåˆ—ä¸é‡å¤å‡ºçŽ°:1234567891011MariaDB [test]&gt; select distinct vend_id from distinct_test;+---------+| vend_id |+---------+| 1001 || 1002 || 1003 || 1004 || 1005 |+---------+5 rows in set (0.001 sec)è¯´æ˜Ž2:æ¼”ç¤ºå¤šåˆ—æŸ¥è¯¢. æœ‰ä»¥ä¸‹æ•°æ®:12345678910MariaDB [test]&gt; select * from tmp;+---------+------+| vend_id | name |+---------+------+| 1001 | A || 1001 | B || 1001 | C || 1002 | C || 1002 | C |+---------+------+å…¶ä¸­åªæœ‰æœ€åŽä¸¤è¡Œæ˜¯å®Œå…¨ç›¸åŒçš„, å½“ä½¿ç”¨DISTINCTè¿‡æ»¤æ—¶, åªä¼šè¿‡æ»¤è¿™ä¸¤è¡Œ.123456789MariaDB [test]&gt; select distinct vend_id, name from tmp;+---------+------+| vend_id | name |+---------+------+| 1001 | A || 1001 | B || 1001 | C || 1002 | C |+---------+------+ æŽ’åº_ORDER_BYè¯­æ³•:123SELECT *FROM 'tbl_name'ORDER BY 'col_name1' DESC, 'col_name2' ASC,col_name*å¯ä»¥æ˜¯å¤šä¸ª, æŒ‡å®šå¤šä¸ª&quot;col_name&quot;ä¼šå¤šè¡ŒæŽ’åº. æŒ‰å¤šä¸ªåˆ—æŽ’åº, ä¼šæœ‰é™æŽ’åº&quot;col_name1&quot;, ç„¶åŽå†å°†ç»“æžœæŒ‰ç…§&quot;col_name2&quot;æ¥æŽ’åº.ASC|DESCè¡¨ç¤ºå‡åºå’Œé™åº. å¦‚æžœä¸æŒ‡å®š, é‚£ä¹ˆé»˜è®¤æ˜¯å‡åº. è¿‡æ»¤_WHEREè¯­æ³•1: åŸºæœ¬è¿‡æ»¤123SELECT 'select_expr'FROM 'tbl_name'WHERE id = 1;æˆ–è€…:1WHERE id BETWEEN 1 AND 10;æˆ–è€…:12# å’Œä¸Šä¸€æ¡BETWEENåŠŸèƒ½ç›¸ä»¿.WHERE id IN (1, 10);æˆ–è€…:1WHERE name IS NULL;BETWEENæ˜¯æŸ¥æ‰¾èŒƒå›´å†…çš„æ•°æ®, ä½¿ç”¨ANDåˆ†å‰²æ¡ä»¶.IS NULLæ˜¯æŸ¥æ‰¾ç©ºå€¼çš„.æ”¯æŒçš„æ¡ä»¶æ“ä½œç¬¦:è¯­æ³•2: ç»„åˆè¿‡æ»¤æ”¯æŒä½¿ç”¨AND | ORæ¥ç»„åˆWHEREæŸ¥è¯¢è¯­å¥.123SELECT 'select_expr'FROM 'tbl_name'WHERE ('col_name1' = 1 OR 'col_name1' = 2) AND 'col_name2' &gt; 10è¿™é‡ŒSQLä¼šä¼˜å…ˆåˆ¤æ–­AND, ä½†æ˜¯ç”¨()åŒ…è£¹çš„ä¼šæœ€ä¼˜å…ˆåˆ¤æ–­. è¿ç§» æŸ¥æ‰¾æ•°æ®123456789SELECT usernameFROM userWHERE username != 'test01'# æŒ‰ç…§emailæŽ’åºï¼Œç„¶åŽå†ç”¨userpassæŽ’åºï¼ŒDECSè¡¨ç¤ºå€’åºORDER BY email, userpass DESC# åªæ˜¾ç¤ºä»Žç¬¬0è¡Œå¼€å§‹ï¼Œçš„10è¡Œï¼ˆä¸æ˜¯ç¬¬10è¡Œï¼‰# LIMITåªèƒ½åœ¨æœ«å°¾LIMIT 0, 10123WHERE username = 'test02'OR email = 'test02@qq.com'AND userpass = 'qwe123'1234WHERE username BETWEEN 1 AND 10# å¯èƒ½åªé’ˆå¯¹æ•°å­—ç±»åž‹WHERE username NOT IN (1, 10)1234567WHERE username# åªåŒ¹é…ä¸€ä¸ªå­—ç¬¦LIKE '_00'# ç±»ä¼¼äºŽ'.00.'LIKE '%00%' é€šé…ç¬¦æœç´¢12345678WHERE usernameREGEXP '.0.'# éž1|2|3REGEXP '[^123]'# è½¬ä¹‰REGEXP '\\.'åŒ¹é…å…ƒå­—ç¬¦åŒ¹é…å­—ç¬¦ç±»é‡å¤å…ƒå­—ç¬¦å®šä½å…ƒå­—ç¬¦ å‡½æ•°Content()åœ¨mysqä¸­ç”¨æ¥æ‹¼æŽ¥å­—æ®µï¼Œå…¶ä»–æ•°æ®åº“å¤šæ•°ä½¿ç”¨+æˆ–è€…||ï¼š123456789101112131415SELECT Concat(username, userpass)FROM userWHERE username = '500'è¾“å‡ºï¼š+----------------------------+| Concat(username, userpass) |+----------------------------+| 500qwe123 |+----------------------------+# å½“ç„¶ä¹Ÿå¯ä»¥åƒå­—ç¬¦ä¸²ä¸€æ ·æ“ä½œSELECT Concat(username, '\(', userpass, '\)')FROM userWHERE username = '500';RTrim()å’ŒLTrim()ä»¥åŠTrim()ç”¨äºŽåŽ»æŽ‰å·¦è¾¹æˆ–è€…å³è¾¹çš„ï¼Œæˆ–è€…åŒæ—¶ä¸¤è¾¹çš„ç©ºæ ¼ã€‚ å£°æ˜Žç‰ˆæƒï¼š 2018-nowï¼ŒðŸ‡¨ðŸ‡³ï¼Œzangjiaao&lt;zangjiaao@yahoo.com&gt;ç”±å®¶æµ©åˆ›ä½œå¹¶ç»´æŠ¤çš„zangjiaao's blogåšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜Žå¤–ï¼Œå‡é‡‡ç”¨&quot;ç½²å-éžå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº«4.0(CC BY-NC-SA 4.0)å›½é™…è®¸å¯è¯&quot;ã€‚æœ¬æ–‡é¦–å‘äºŽzangjiaaoâ€™s blogåšå®¢ï¼Œè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ã€‚]]></content>
      <categories>
        <category>04_å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>é€ŸæŸ¥</tag>
        <tag>SQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Pythonæ¨¡å—æ‰‹å†Œ]]></title>
    <url>%2F2018%2F06%2F13%2FPython%E6%A8%A1%E5%9D%97%E6%89%8B%E5%86%8C%2F</url>
    <content type="text"><![CDATA[æ¦‚è¿°ï¼š ä¸»è¦ç”¨äºŽå¤‡å¿˜ï¼Œè®°å½•ä¸€äº›æˆ‘å¸¸ç”¨åˆ°çš„ä¸€äº›ç±»çš„Tipså’Œç‰¹æ€§(*åŸºäºŽpython3)â€¦å®˜æ–¹çš„ApiDocâ€¦ Pythonæ¨¡å—æ‰‹å†ŒTODOos(ç³»ç»Ÿç›¸å…³)paramiku(SSHæŽ§åˆ¶ç«¯)å®‰è£…åˆå§‹åŒ–è¿žæŽ¥å»ºç«‹channelæœ€ä½³å®žè·µsuæ–¹å¼è¿è¡Œlogging(æ—¥å¿—)XMindä¸€å›¾æžæ‡‚ç»ƒä¹ Demopymysql(mysqlå®¢æˆ·ç«¯)å¸¸è§„æµç¨‹withç®€åŒ–è¿žæŽ¥é˜²SQLæ³¨å…¥æŸ¥è¯¢æ•°æ®èŽ·å–èŽ·å–æœ€æ–°è‡ªå¢žIDæ¸¸æ ‡æ“æŽ§é”™è¯¯å›žæ»šè°ƒç”¨å­˜å‚¨è¿‡ç¨‹å¼‚å¸¸å¤„ç†argparse(ç”¨æˆ·ä¼ å‚æŽ§åˆ¶)configparser(é…ç½®æ–‡ä»¶æŽ§åˆ¶)åˆ›å»ºè¯»å–ä¼ ç»Ÿæ¨¡å¼(æ›´é«˜çº§)iniæ–‡ä»¶æ ¼å¼é…ç½®æ–‡ä»¶ä¸­çš„å˜é‡Commentä¸Žparserå†²çªé—®é¢˜è‡ªå®šä¹‰booleanvalueéœ€è¦å¤§å†™æ–¹æ¡ˆre(æ­£åˆ™åŒ¹é…)re.compile_ç¼–è¯‘PyYAMLè¾“å‡ºçš„styleYamlç‰¹æ®Šæ ¼å¼time(æ“ä½œæ—¶é—´æ•°æ®)XMind ä¸€å›¾è¯»æ‡‚å£°æ˜Ž TODOå­¦ä¹ osæ¨¡å—å­¦ä¹ timeä»¥åŠdatetimeæ¨¡å—å­¦ä¹ threadingå’Œqueueæ¨¡å—ç ”ç©¶collectionå’Œheapqæ¨¡å— os(ç³»ç»Ÿç›¸å…³)os.pathå‚è€ƒ:python os.pathæ¨¡å—å¸¸ç”¨æ–¹æ³•è¯¦è§£ - å·«è°¢ - åšå®¢å›­5.19 åˆ›å»ºä¸´æ—¶æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ â€” python3-cookbook 3.0.0 æ–‡æ¡£ paramiku(SSHæŽ§åˆ¶ç«¯)å‚è€ƒè¿™ç¯‡æ–‡ç« .å®˜æ–¹APIæ–‡æ¡£. å®‰è£…1sudo pip instal paramiko åˆå§‹åŒ–è¿žæŽ¥123456789101112import paramikossh = paramiko.SSHClient()#å…è®¸è¿žæŽ¥åˆ°ä¸åœ¨æœ¬æœºknow_hostsä¸­çš„ä¸»æœºssh_client.set_missing_host_key_policy(paramiko.AutoAddPolicy())# ä»¥å¯†é’¥å¯¹æ–¹å¼å»ºç«‹:ssh_client.connect("IP", port, username="username", password="password")# ä»¥å¯†é’¥å¯¹æ–¹å¼å»ºç«‹:ssh.connect('IP',port, 'ç”¨æˆ·å', key_filename='/home/xxx/.ssh/id_rsa', passphrase='xxx')å¯æ‰§è¡Œå•æ¡å‘½ä»¤,é€šè¿‡ä¼ ç»ŸstdæŽ¥æ”¶è¾“å…¥è¾“å‡º,ä»¥åŠerror:12stdin, stdout, stderr = ssh_client.exec_command('ls -l')print(stdout.readlines()) å»ºç«‹channel123456789101112with ssh_client.invoke_shell() as ssh_channel: ssh_channel.send('whoami\n') buff = ssh_channel.recv(999)channel = ssh.invoke_shell()if not recv_ready(): return('è¿žæŽ¥æœªå°±ç»ª')channel.send('su - billx' + '\n')buff = channel.recv(9999)print(buff)channel.close() æœ€ä½³å®žè·µ suæ–¹å¼è¿è¡Œ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051import paramikoimport timeimport copyimport ressh_client = paramiko.SSHClient()ssh_client.set_missing_host_key_policy(paramiko.AutoAddPolicy())ssh_client.connect('192.168.56.101', username='billx', password='qwe123')def exec_cmd(cmd): with ssh_client.invoke_shell() as chann: while not chann.recv_ready(): time.sleep(1) print('delayA..') while chann.recv_ready(): chann.recv(1024) su_pwd = 'qwe123' chann.send('su - root\n') while not chann.recv_ready(): time.sleep(1) print('delayB..') chann.send(su_pwd + '\n') while not chann.recv_ready(): time.sleep(1) print('delayC..') while chann.recv_ready(): data = chann.recv(1024) chann.send(cmd + '\n') while not chann.recv_ready(): time.sleep(1) print('delayD..') data = b'' while True: if not chann.recv_ready(): data = filter(lambda x: not re.match('\[.*?][#$]\s+$', x), data.decode().split('\r\n')[1:]) print('\n'.join(data)) break tmp = chann.recv(1024) data += tmpcmd = 'ss -tulnap'exec_cmd(cmd)print('\ndone..\n')cmd = 'pwd'exec_cmd(cmd) logging(æ—¥å¿—)python loggingæ¨¡å—ä½¿ç”¨æ•™ç¨‹ XMindä¸€å›¾æžæ‡‚xmindæ–‡ä»¶(å¯†ç :bpwr) ç»ƒä¹ Demobillxllid/python_learn pymysql(mysqlå®¢æˆ·ç«¯) å¸¸è§„æµç¨‹1234567891011121314151617181920212223242526272829303132333435363738394041424344454647import pymysql# å»ºç«‹è¿žæŽ¥conn = pymysql.connect( host = 'localhost', port = 3306, user = 'tester', passwd = 'qwe123', db = 'test', charset = 'utf8')# åˆ›å»ºæ¸¸æ ‡try: cursor = connect.cursor()except pymysql.MySQLError as e: print('Connect error. Detail: %s' % str(e))# æž„å»ºSQLè¯­å¥sql = """SELECT VERSION()"""# æ‰§è¡Œtry: cursor.execute(sql)except pymysql.ProgrammingError as e: print(e) exit()# èŽ·å–å“åº”r = cursor.fetchall()print(r)# INSERTã€UPDATEéœ€è¦commit()ï¼Œå¦åˆ™æ— æ³•å®žé™…ä¿®æ”¹æ•°æ®conn.commit()# å…³é—­æ¸¸æ ‡å’Œè¿žæŽ¥cursor.close()conn.close() withç®€åŒ–è¿žæŽ¥å…å¾—æ¯æ¬¡éƒ½è¦conn.close()1234567891011121314151617181920212223# ä½¿ç”¨withç®€åŒ–è¿žæŽ¥è¿‡ç¨‹ï¼Œæ¯æ¬¡éƒ½è¿žæŽ¥å…³é—­å¾ˆéº»çƒ¦ï¼Œä½¿ç”¨ä¸Šä¸‹æ–‡ç®¡ç†ï¼Œç®€åŒ–è¿žæŽ¥è¿‡ç¨‹import pymysqlimport contextlib# å®šä¹‰ä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼Œè¿žæŽ¥åŽè‡ªåŠ¨å…³é—­è¿žæŽ¥@contextlib.contextmanagerdef mysql(host=&apos;127.0.0.1&apos;, port=3306, user=&apos;blog&apos;, passwd=&apos;123456&apos;, db=&apos;blog&apos;, charset=&apos;utf8&apos;): conn = pymysql.connect(host=host, port=port, user=user, passwd=passwd, db=db, charset=charset) cursor = conn.cursor(cursor=pymysql.cursors.DictCursor) try: yield cursor finally: conn.commit() cursor.close() conn.close()# æ‰§è¡Œsqlwith mysql() as cursor: # å·¦è¿žæŽ¥æŸ¥è¯¢ r = cursor.execute(&quot;select * from users as u left join articles as a on u.id = a.user_id where a.user_id = 2&quot;) result = cursor.fetchall() print(result) é˜²SQLæ³¨å…¥å‚æ•°åŒ–æŸ¥è¯¢å†…éƒ¨æ‰§è¡Œå‚æ•°åŒ–ç”Ÿæˆçš„SQLè¯­å¥ï¼Œå¯¹ç‰¹æ®Šå­—ç¬¦è¿›è¡Œäº†åŠ \è½¬ä¹‰ï¼Œé¿å…æ³¨å…¥è¯­å¥ç”Ÿæˆã€‚1234567891011cursor.execute("""select username,passwordfrom tb7where username=%s and password=%s""", (username, password))# æˆ–è€…å°†sqlè¯­å¥ä¸Ždataæ‹†åˆ†ä¹Ÿå¯ä»¥sql = """ ..."""data = ( .. ,)cursor.execute(sql, data)åœ¨æ’å…¥å¤šè¡Œæ•°æ®æ—¶ï¼Œä½¿ç”¨executemayæ•ˆæžœè¦æ›´å¥½ã€‚1234567cursor.executemany("""INSERT INTO user( username, userpass, email)VALUE(%s, %s, %s)""", [('A', '123', '123@qq.com'), ('B', '456', '456@qq.com')])å­˜å‚¨è¿‡ç¨‹12sql1="select * from users where nid&gt;? and nid&lt;?"cursor.callproc('proc_sql', args=(11, 15, sql1))æ›´å¤šè¯¦è§pythonä¸­æ“ä½œmysqlçš„pymysqlæ¨¡å—è¯¦è§£ã€‚ æŸ¥è¯¢æ•°æ®èŽ·å–12345678# èŽ·å–ç¬¬ä¸€è¡Œæ•°æ®row_1 = cursor.fetchone()# èŽ·å–å‰nè¡Œæ•°æ®row_n = cursor.fetchmany(3)# èŽ·å–æ‰€æœ‰æ•°æ®row_3 = cursor.fetchall() èŽ·å–æœ€æ–°è‡ªå¢žID1new_id = cursor.lastrowid æ¸¸æ ‡æ“æŽ§12345# ç›¸å¯¹å½“å‰ä½ç½®ç§»åŠ¨cursor.scroll(1,mode='relative')# ç›¸å¯¹ç»å¯¹ä½ç½®ç§»åŠ¨cursor.scroll(2,mode='absolute') é”™è¯¯å›žæ»š12345678try: cursor.execute(sql) conn.commit()except: # å¦‚æžœå‘ç”Ÿé”™è¯¯åˆ™å›žæ»š conn.rollback() è°ƒç”¨å­˜å‚¨è¿‡ç¨‹æ— å‚å­˜å‚¨è¿‡ç¨‹12345678#æ¸¸æ ‡è®¾ç½®ä¸ºå­—å…¸ç±»åž‹cursor = conn.cursor(cursor=pymysql.cursors.DictCursor)#ç­‰ä»·äºŽcursor.execute("call p2()")cursor.callproc('p2')row_1 = cursor.fetchone()print(row_1)æœ‰å‚å­˜å‚¨è¿‡ç¨‹12345678910cursor = conn.cursor(cursor=pymysql.cursors.DictCursor)cursor.callproc('p1', args=(1, 22, 3, 4))# èŽ·å–æ‰§è¡Œå®Œå­˜å‚¨çš„å‚æ•°,å‚æ•°@å¼€å¤´cursor.execute("select @p1,@_p1_1,@_p1_2,@_p1_3")# &#123;u'@_p1_1': 22, u'@p1': None, u'@_p1_2': 103, u'@_p1_3': 24&#125;row_1 = cursor.fetchone()print(row_1) å¼‚å¸¸å¤„ç†è¯·å‚è€ƒpymysqlå¼‚å¸¸å¤„ç†æ–‡æœ«ã€‚ argparse(ç”¨æˆ·ä¼ å‚æŽ§åˆ¶)å¯ä»¥ç”¨argparseæ›¿ä»£åŽŸæ¥çš„getparseä»¥åŠoptparseäº†ã€‚æ›´å¤šæ–¹æ³•å¯ä»¥é€šè¿‡help()ä»¥åŠPEP 389 â€“ argparse - New Command Line Parsing ModuleèŽ·å–ã€‚123456789101112131415161718import argparsedef get_parser(): parser = argparse.ArgumentParser(description='scanless, public port scan scrapper') parser.add_argument('-v', '--version', help='display the current version', action='store_true') parser.add_argument('-t', '--target', help='ip or domain to scan', type=str) parser.add_argument('-s', '--scanner', help='scanner to use (default: hackertarget)', type=str, default='hackertarget') return parserdef main(): parser = get_parser() args = vars(parser.parse_args())if __name__ == '__main__': main() configparser(é…ç½®æ–‡ä»¶æŽ§åˆ¶)å‚è€ƒï¼š14.2. configparser â€” Configuration file parser â€” Python 3.6.6rc1 documentationã€‚ åˆ›å»º12345678910111213141516171819import configparserconfig = configparser.ConfigParser()# åˆ›å»ºç©ºåˆ†ç±»config['EMPTY'] = &#123;&#125;# èµ‹å€¼config['EMPTY']['test'] = 'test'# ä¼˜é›…æ–¹å¼èµ‹å€¼..x = config['EMPTY']x['test2'] = 'test2'# åˆ›å»ºæ—¶ç›´æŽ¥èµ‹å€¼..config['DEFAULT'] = &#123; 'test3': 'test3', 'test4': 'test4',&#125;# ä¿®æ”¹config['DEFAULT']['test4'] = 'test5'# å†™å…¥æ–‡ä»¶with open('test_pyconfig.ini', 'w') as configfile: config.write(configfile)ç”Ÿæˆå¦‚ä¸‹é…ç½®æ–‡ä»¶:12345678# test_pyconfig.ini[DEFAULT]test3 = test3test4 = test5[EMPTY]test = testtest2 = test2 è¯»å–1234import configparserconfig = configparser.ConfigParser()config.read('example.ini') ä¼ ç»Ÿæ¨¡å¼(æ›´é«˜çº§)åˆ›å»º1234567891011121314151617181920import configparserconfig = configparser.RawConfigParser()# Please note that using RawConfigParser's set functions, you can assign# non-string values to keys internally, but will receive an error when# attempting to write to a file or when you get it in non-raw mode. Setting# values using the mapping protocol or ConfigParser's set() does not allow# such assignments to take place.config.add_section('Section1')config.set('Section1', 'an_int', '15')config.set('Section1', 'a_bool', 'true')config.set('Section1', 'a_float', '3.1415')config.set('Section1', 'baz', 'fun')config.set('Section1', 'bar', 'Python')config.set('Section1', 'foo', '%(bar)s is %(baz)s!')# Writing our configuration file to 'example.cfg'with open('example.cfg', 'w') as configfile: config.write(configfile)è¯»å–123456789101112131415import configparserconfig = configparser.RawConfigParser()config.read('example.cfg')# getfloat() raises an exception if the value is not a float# getint() and getboolean() also do this for their respective typesa_float = config.getfloat('Section1', 'a_float')an_int = config.getint('Section1', 'an_int')print(a_float + an_int)# Notice that the next output does not interpolate '%(bar)s' or '%(baz)s'.# This is because we are using a RawConfigParser().if config.getboolean('Section1', 'a_bool'): print(config.get('Section1', 'foo'))ä¸€äº›é™„åŠ ç”¨æ³•123456789101112131415161718192021222324252627282930313233343536373839import configparsercfg = configparser.ConfigParser()cfg.read('example.cfg')# Set the optional *raw* argument of get() to True if you wish to disable# interpolation in a single get operation.print(cfg.get('Section1', 'foo', raw=False)) # -&gt; "Python is fun!"print(cfg.get('Section1', 'foo', raw=True)) # -&gt; "%(bar)s is %(baz)s!"# The optional *vars* argument is a dict with members that will take# precedence in interpolation.print(cfg.get('Section1', 'foo', vars=&#123;'bar': 'Documentation','baz': 'evil'&#125;))# The optional *fallback* argument can be used to provide a fallback valueprint(cfg.get('Section1', 'foo')) # -&gt; "Python is fun!"print(cfg.get('Section1', 'foo', fallback='Monty is not.')) # -&gt; "Python is fun!"print(cfg.get('Section1', 'monster', fallback='No such things as monsters.')) # -&gt; "No such things as monsters."# A bare print(cfg.get('Section1', 'monster')) would raise NoOptionError# but we can also use:print(cfg.get('Section1', 'monster', fallback=None)) # -&gt; None# New instance with 'bar' and 'baz' defaulting to 'Life' and 'hard' eachconfig = configparser.ConfigParser(&#123;'bar': 'Life', 'baz': 'hard'&#125;)config.read('example.cfg')print(config.get('Section1', 'foo')) # -&gt; "Python is fun!"config.remove_option('Section1', 'bar')config.remove_option('Section1', 'baz')print(config.get('Section1', 'foo')) # -&gt; "Life is hard!" iniæ–‡ä»¶æ ¼å¼é…ç½®æ–‡ä»¶ä¸­éµå®ˆä»¥ä¸‹è§„åˆ™:sectionåŒºåˆ†å¤§å°å†™parserä¸åŒºåˆ†å¤§å°å†™,å¹¶ä¸”keyå’ŒKEYæˆ–è€…Keyéƒ½ä»£è¡¨åŒä¸€ä¸ªkey,ä»–ä»¬å¿…é¡»å”¯ä¸€1234567891011121314151617181920212223242526[DEFAULT]default_key: every section has me[simple values]key = valuespace in key = allowedspace in value = allowedspace around the delimiter = obviously yesyou can also use : to delimit keys from values[all value are stings]values like this: 10000or this: 3.1415926all things is string, so you can use API to get them directly[multiline values]chorus: I'm a lumberjack, and I'm okey I sleep all night and I work all day[No values]key_without_valueempty string value here =[you can alse use comments]# like this; or this é…ç½®æ–‡ä»¶ä¸­çš„å˜é‡åŸºç¡€ç”¨æ³•: å¯ä»¥åœ¨ä¸€ä¸ªsectionä¸­ä½¿ç”¨(é»˜è®¤interpolationæ˜¯configparser.BasicInterpolation):1234[Paths]home_dir: /Usersmy_dir: %(home_dir)s/lumberjeckmy_pictures: %(home_dir)s/Picturesä¸¾ä¸ªä¾‹å­, æœ‰å¦‚ä¸‹é…ç½®æ–‡ä»¶:123[MyPath]home_dir: /homemy_home: %(home_dir)s/billxpythonä¸­è¯»å–:12345config = configparser.ConfigParser()config.read('test_pyconfig.ini')sections = config.sections()print(sections)print(config['MyPath'].get('my_home'))å½“ç„¶,ä¹Ÿå¯ä»¥åœ¨å…¶ä»–sectionä¸­å¼•ç”¨,ä¸è¿‡éœ€è¦ä¿®æ”¹é»˜è®¤çš„interpolationä¸ºconfigparser.ExtendInterpolation12345678[Common]home_dir: /homelibrary_dir: /Library[MoreAdvanceUsage]home_dir: /homemy_home: $&#123;home_dir&#125;/billxmy_library: $&#123;Common:library_dir&#125;/billxä½¿ç”¨configparseæ—¶éœ€è¦ä¿®æ”¹é»˜è®¤çš„interpolationé…ç½®12345config = configparser.ConfigParser(interpolation=configparser.ExtendedInterpolation())config.read('test_pyconfig.ini')sections = config.sections()print(sections)print(config['MoreAdvanceUsage'].get('my_library')) Commentä¸Žparserå†²çªé—®é¢˜è¯´æ˜Ž,valueä¸­åŒ…å«#åœ¨è¡Œå†…æ˜¯okayçš„,ä½†æ˜¯å¦‚æžœå‡ºçŽ°åœ¨å¼€å¤´å°±ä¼šè¢«è§†ä¸ºcomment,æ‰€ä»¥å¯ä»¥ä½¿ç”¨DEFAULTSECTä¸­å®šä¹‰å¥½#,ç„¶åŽåœ¨å…¶ä»–sectionsä¸­ç”¨å¼•å·å¼•ç”¨å³å¯.1234567891011121314151617181920212223242526272829303132333435363738&gt;&gt;&gt; from configparser import ConfigParser, ExtendedInterpolation&gt;&gt;&gt; parser = ConfigParser(interpolation=ExtendedInterpolation())&gt;&gt;&gt; # the default BasicInterpolation could be used as well&gt;&gt;&gt; parser.read_string("""... [DEFAULT]... hash = #...... [hashes]... shebang =... $&#123;hash&#125;!/usr/bin/env python... $&#123;hash&#125; -*- coding: utf-8 -*-...... extensions =... enabled_extension... another_extension... #disabled_by_comment... yet_another_extension...... interpolation not necessary = if # is not at line start... even in multiline values = line #1... line #2... line #3... """)&gt;&gt;&gt; print(parser['hashes']['shebang'])#!/usr/bin/env python# -*- coding: utf-8 -*-&gt;&gt;&gt; print(parser['hashes']['extensions'])enabled_extensionanother_extensionyet_another_extension&gt;&gt;&gt; print(parser['hashes']['interpolation not necessary'])if # is not at line start&gt;&gt;&gt; print(parser['hashes']['even in multiline values'])line #1line #2line #3 è‡ªå®šä¹‰booleanä½¿ç”¨.getbooleanæ–¹æ³•å¯ä»¥èŽ·å–åˆ°keyå¯¹åº”çš„booleanå€¼,é»˜è®¤æ”¯æŒTrue: â€˜1â€™, â€˜yesâ€™, â€˜trueâ€™, â€˜onâ€™False: â€˜0â€™, â€˜noâ€™, â€˜falseâ€™, â€˜offâ€™ä¹Ÿå¯ä»¥è‡ªå·±é…ç½®configparser.BOOLEAN_STATESé…ç½®12345678910&gt;&gt;&gt; custom = configparser.ConfigParser()&gt;&gt;&gt; custom['section1'] = &#123;'funky': 'nope'&#125;&gt;&gt;&gt; custom['section1'].getboolean('funky')Traceback (most recent call last):...ValueError: Not a boolean: nope# è‡ªå·±å®šä¹‰&gt;&gt;&gt; custom.BOOLEAN_STATES = &#123;'sure': True, 'nope': False&#125;&gt;&gt;&gt; custom['section1'].getboolean('funky')False valueéœ€è¦å¤§å†™æ–¹æ¡ˆé»˜è®¤èŽ·å–åˆ°çš„valueæ˜¯å°å†™çš„,å¦‚æžœä¸€å®šéœ€è¦å¤§å†™,å°±éœ€è¦é‡å†™configparser.optionxform1234567891011121314151617181920&gt;&gt;&gt; config = """... [Section1]... Key = Value...... [Section2]... AnotherKey = Value... """&gt;&gt;&gt; typical = configparser.ConfigParser()&gt;&gt;&gt; typical.read_string(config)&gt;&gt;&gt; list(typical['Section1'].keys())['key']&gt;&gt;&gt; list(typical['Section2'].keys())['anotherkey']&gt;&gt;&gt; custom = configparser.RawConfigParser()&gt;&gt;&gt; custom.optionxform = lambda option: option&gt;&gt;&gt; custom.read_string(config)&gt;&gt;&gt; list(custom['Section1'].keys())['Key']&gt;&gt;&gt; list(custom['Section2'].keys())['AnotherKey'] re(æ­£åˆ™åŒ¹é…)å‚è€ƒå®˜æ–¹APIæ–‡æ¡£. re.compile_ç¼–è¯‘è¯­æ³•1re.compile(pattern, flags=0)è¯´æ˜Žä¼šå…ˆæŠŠæ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œç¼–è¯‘, patternä¸ºæ­£åˆ™è¡¨è¾¾å¼, flagesèƒ½å¤Ÿæ“æŽ§åŒ¹é…çš„æ¨¡å¼.ä¾‹å¦‚:12prog = re.compile(pattern)result = prog.match(string)ç›¸å½“äºŽ:1result = re.match(pattern, string)å¸¸ç”¨flages:re.Iæˆ–re.IGNORECASE: ä¸åŒºåˆ†å¤§å°å†™. è¿ž[A-Z]ä¹ŸåŒæ—¶å¯ä»¥åŒ¹é…å°å†™å­—æ¯.re.Mæˆ–re.MULTILINE: ^å’Œ$å¯ä»¥è¦†ç›–åˆ°å¤šè¡Œ.re.Sæˆ–re.DOTALL: .å¯ä»¥åŒ¹é…åŒ…æ‹¬æ¢è¡Œç¬¦åœ¨å†…çš„çš„æ‰€æœ‰å†…å®¹.re.Xæˆ–re.VERBOSE: å…è®¸ä½¿ç”¨æ›´åŠ æ˜“è¯»çš„æ–¹å¼ä¹¦å†™è¡¨è¾¾å¼.ç©ºç™½å­—ç¬¦ä¼šè¢«å¿½ç•¥, åŒæ—¶è¿˜å¯ä»¥è¿›è¡Œæ³¨é‡Š, è§ä¾‹å­1.ä¾‹å­11234a = re.compile(r"""\d + # the integral part \. # the decimal point \d * # some fractional digits""", re.X)b = re.compile(r"\d+\.\d*") PyYAMLåŸºæœ¬ç”¨æ³•è¯·å‚è€ƒ:å®˜æ–¹æ–‡æ¡£.è¿™é‡Œä¸»è¦åˆ—å‡ºä¸€äº›æŠ€å·§. è¾“å‡ºçš„styleåˆ—å‡ºdumpèƒ½å¤Ÿä½¿ç”¨çš„å‚æ•°:default_style=None,default_flow_style=None, # (bool)flowé£Žæ ¼å¼€å…³canonical=None, # (bool)æ˜¯å¦æ˜¾ç¤ºæ•°æ®ç±»åž‹æ ‡ç­¾indent=None, # (int)ç¼©è¿›width=None, # (int)å®½åº¦allow_unicode=None, # (bool)æ˜¯å¦å…è®¸unicodeç¼–ç line_break=None, # æŒ‡å®šæ¢è¡Œçš„ç‰¹æ®Šå­—ç¬¦encoding=None, # ç¼–ç ç±»åž‹explicit_start=None, # suffixexplicit_end=None, # preffixversion=None,tags=Noneé»˜è®¤æƒ…å†µä¸‹, dumpå‡ºæ¥çš„yamlæ•°æ®ä½¿ç”¨çš„æ˜¯æµå¼(flow)é£Žæ ¼, ä¹Ÿé‚£å°±æ˜¯ä¸‹é¢çš„æƒ…å†µ:123print(yaml.dump([i for i in range(5)]))# out:[0, 1, 2, 3, 4]å¯é€šè¿‡æ”¹å˜å‚æ•°å®žçŽ°å—å¼(block)é£Žæ ¼è¾“å‡º, æ›´ç»å…¸.1234567print(yaml.dump([i for i in range(5)], default_flow_style=False))# out:- 0- 1- 2- 3- 4å¸¦æ•°æ®æ ¼å¼tagçš„è¾“å‡º12345678910print(yaml.dump([i for i in range(5)], canonical=True))# out:---!!seq [ !!int "0", !!int "1", !!int "2", !!int "3", !!int "4",] Yamlç‰¹æ®Šæ ¼å¼å¤šåˆä¸€12345678910111213141516171819202122232425&gt;&gt;&gt; dat = """... ---... - Ada... - APL... - ASP...... - Assembly... - Awk... ---... - Basic... ---... - C... - C# # å¦‚æžœéœ€è¦ä½¿ç”¨æ³¨é‡Š, ä½¿ç”¨'C #'è€Œä¸æ˜¯'C#'.... - C++... - Cold Fusion... """# ä½¿ç”¨load_allä¸èƒ½ç›´æŽ¥è¾“å‡º, éœ€è¦éåŽ†&gt;&gt;&gt; yaml.load_all(dat)&lt;generator object load_all at 0x104a44fc0&gt;&gt;&gt;&gt; for data in yaml.load_all(dat):... print(data)...['Ada', 'APL', 'ASP', 'Assembly', 'Awk']['Basic']['C', 'C#', 'C++', 'Cold Fusion']liståˆ—è¡¨çš„åµŒå¥—123456789101112131415# YAML- - HTML - LaTeX - SGML - VRML - XML - YAML- - BSD - GNU Hurd - Linux# Python[['HTML', 'LaTeX', 'SGML', 'VRML', 'XML', 'YAML'], ['BSD', 'GNU Hurd', 'Linux']]åµŒå¥—ä¹‹å‰ä½¿ç”¨â€™-â€˜æˆ–â€™ 'ä¸é‡è¦, é‡è¦çš„æ˜¯è¦ä¿æŒç¼©è¿›123456789# YAML- 1.1- - 2.1 - 2.2- - - 3.1 - 3.2 - 3.3# Python[1.1, [2.1, 2.2], [[3.1, 3.2, 3.3]]]å­—å…¸ä¸Žåˆ—è¡¨çš„åµŒå¥—123456789101112# YAMLleft hand:- Ring of Teleportation- Ring of Speedright hand:- Ring of Resist Fire- Ring of Resist Cold- Ring of Resist Poison# Python&#123;'right hand': ['Ring of Resist Fire', 'Ring of Resist Cold', 'Ring of Resist Poison'],'left hand': ['Ring of Teleportation', 'Ring of Speed']&#125;åˆ—è¡¨ä¸­åµŒå¥—å­—å…¸123456789101112# YAML- name: PyYAML status: 4 license: MIT language: Python- name: PySyck status: 5 license: BSD language: Python# Python[&#123;'status': 4, 'language': 'Python', 'name': 'PyYAML', 'license': 'MIT'&#125;,&#123;'status': 5, 'license': 'BSD', 'name': 'PySyck', 'language': 'Python'&#125;]å…è®¸keyä¸­åŒ…å«â€™ â€˜, å¹¶ä¸”å¯æ˜¯ä½¿ç”¨â€™?â€˜å’Œâ€™:'åˆ†ä¸¤è¡Œæ˜¾ç¤ºkey:value12345678910# YAMLbase armor class: 0# Python&#123;'base armor class': 0&#125;# YAML? key: value# Python&#123;'key': 'value'&#125;5ç§valueçš„è¡¨ç¤ºæ–¹æ³•, åˆ†åˆ«æ˜¯plain, single-quoted, double-quoted, literal, ä»¥åŠ folded:123456789101112131415# YAMLplain: Scroll of Remove Cursesingle-quoted: &apos;EASY_KNOW&apos;double-quoted: &quot;?&quot;literal: | # Borrowed from http://www.kersbergen.com/flump/religion.html by hjw ___ __ /.-.\ / )_____________\\ Y /_ /=== == === === =\ _\_ ( /)=== == === === == Y \ `-------------------( o ) \___/folded: &gt; It removes all ordinary curses from all equipped items. Heavy or permanent curses are unaffected.åˆ«å,å…¶å®žæ„Ÿè§‰å°±æ˜¯yamlä¸­çš„å˜é‡123456789101112131415161718192021222324252627# YAMLHost: - &amp;foo bar - *foo - *foo# Python&#123;&apos;Host&apos;: [&apos;bar&apos;, &apos;bar&apos;, &apos;bar&apos;]&#125;# YAMLleft hand: &amp;A name: The Bastard Sword of Eowyn weight: 30right hand: *A# Python&#123; &quot;left hand&quot;: &#123; &quot;name&quot;: &quot;The Bastard Sword of Eowyn&quot;, &quot;weight&quot;: 30 &#125;, &quot;right hand&quot;: &#123; &quot;name&quot;: &quot;The Bastard Sword of Eowyn&quot;, &quot;weight&quot;: 30 &#125;&#125;æ ‡ç­¾tag, æ›´å¤šå¯è§yamlæ ‡ç­¾è¡¨12345678910111213141516171819# YAMLboolean: !!bool &quot;true&quot;integer: !!int &quot;3&quot;float: !!float &quot;3.14&quot;# Python&#123;&apos;boolean&apos;: True, &apos;integer&apos;: 3, &apos;float&apos;: 3.14&#125;# å¯é€šè¿‡ä¿®æ”¹æ ‡ç­¾æ”¹å˜æ•°æ®æ ¼å¼boolean: !!str &quot;true&quot;integer: !!int &quot;3&quot;float: !!float &quot;3.14&quot;# Python&#123; &quot;boolean&quot;: &quot;true&quot;, &quot;integer&quot;: 3, &quot;float&quot;: 3.14&#125;yamlä¸‹çš„tagä¸Žpythonæ•°æ®ç±»åž‹å¯¹æ¯”è¡¨å¦‚ä¸‹: time(æ“ä½œæ—¶é—´æ•°æ®) XMind ä¸€å›¾è¯»æ‡‚ä¸‹è½½é“¾æŽ¥(å¯†ç :cd8c) å£°æ˜Žç‰ˆæƒï¼š 2018-nowï¼ŒðŸ‡¨ðŸ‡³ï¼Œzangjiaao&lt;zangjiaao@yahoo.com&gt;ç”±å®¶æµ©åˆ›ä½œå¹¶ç»´æŠ¤çš„zangjiaao's blogåšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜Žå¤–ï¼Œå‡é‡‡ç”¨&quot;ç½²å-éžå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº«4.0(CC BY-NC-SA 4.0)å›½é™…è®¸å¯è¯&quot;ã€‚æœ¬æ–‡é¦–å‘äºŽzangjiaaoâ€™s blogåšå®¢ï¼Œè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ã€‚]]></content>
      <categories>
        <category>04_å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Shellç¼–ç¨‹é€ŸæŸ¥]]></title>
    <url>%2F2018%2F06%2F12%2FShell%E7%BC%96%E7%A8%8B%E9%80%9F%E6%9F%A5%2F</url>
    <content type="text"><![CDATA[æ¦‚è¿°ï¼š å­¦ä¹ è€ç”·å­©shellç¼–ç¨‹çš„ä¸€äº›ç¬”è®°å§ï¼Œpythonå’Œshellå¿…é¡»è¦ä¼šå•Šï¼åŠ æ²¹â€¦ ðŸ˜‹ Shellç¼–ç¨‹é€ŸæŸ¥TODOçŽ¯å¢ƒå˜é‡è®¾ç½®ã€ä½¿ç”¨ã€å–æ¶ˆå¼•å·ä½¿ç”¨è§„åˆ™awkç‰¹æ®Šè§„åˆ™ç‰¹æ®Šå˜é‡crontabsedå£°æ˜Ž TODOUbuntuå­¦ä¹ â€”â€”ç¬¬ä¸€ç¯‡ - R_e - åšå®¢å›­sedå‘½ä»¤_Linux sed å‘½ä»¤ç”¨æ³•è¯¦è§£ï¼šåŠŸèƒ½å¼ºå¤§çš„æµå¼æ–‡æœ¬ç¼–è¾‘å™¨ çŽ¯å¢ƒå˜é‡ è®¾ç½®ã€ä½¿ç”¨ã€å–æ¶ˆexport: è®¾ç½®å˜é‡env: æ˜¾ç¤ºå½“å‰æ‰€æœ‰å˜é‡echo $PATH: æ˜¾ç¤ºPATHå˜é‡çš„å€¼ï¼Œå‰é¢åŠ $echo ${PATH}: åŒä¸Šunset: å–æ¶ˆè®¾ç½®å˜é‡ å¼•å·ä½¿ç”¨è§„åˆ™' ': å•å¼•å·åŒ…è£¹å†…å®¹ï¼Œæ‰€è§å³æ‰€å¾—ï¼Œä¸ä¼šæ‰§è¡Œå…¶ä¸­çš„å‘½ä»¤&quot; &quot;: åŒå¼•å·ä¸­çš„å˜é‡å’Œåå¼•å·å†…å®¹ä¼šè¢«æ‰§è¡Œã€‚ä¾‹å¦‚echo &quot;$PATH&quot;ä¼šæ˜¾ç¤ºPATHå˜é‡ï¼Œè€Œecho '$PATH'åˆ™ä¸ä¼šsedä¸Žgrepéƒ½éµå¾ªä»¥ä¸Šè§„åˆ™ï¼Œä½†æ˜¯awkæ¯”è¾ƒç‰¹æ®Šï¼Œå¦‚ä¸‹ï¼š awkç‰¹æ®Šè§„åˆ™ä½†æ˜¯ï¼Œåœ¨awkä¸­çš„å®šä¹‰æ­£å¥½ç›¸åï¼Œä¾‹å¦‚ï¼š12345678910111213TEST_ME=123awk 'BEGIN &#123;print '$TEST_ME'&#125;' 123awk 'BEGIN &#123;print "$TEST_ME"&#125;' $TEST_MEawk 'BEGIN &#123;print $TEST_ME&#125;' awk: illegal field $(), name "TEST_ME" source line number 1# ä¸¤ä¸ªæ¯”è¾ƒç‰¹æ®Šçš„æƒ…å†µawk 'BEGIN &#123;print '"$TEST_ME"'&#125;' 123awk 'BGGIN &#123;print "'$TEST_ME'"&#125;' 123å› æ­¤ä¸€åŠçš„åšæ³•æ˜¯ä½¿ç”¨echoç„¶åŽç®¡é“ç»™awkï¼Œä¾‹å¦‚ï¼š1234567TEST_ME=123echo "$TEST_ME"|awk '&#123;print $0&#125;' 123echo '$TEST_ME'|awk '&#123;print $0&#125;' $TEST_MEecho $TEST_ME|awk '&#123;print $0&#125;' 123 ç‰¹æ®Šå˜é‡$0: å½“å‰æ‰§è¡Œshellè„šæœ¬çš„æ–‡ä»¶åï¼ŒåŒ…å«è·¯å¾„åˆ™æ˜¯è·¯å¾„$n: ä»£è¡¨ç¬¬nä¸ªå‚æ•°ï¼Œæ”¯æŒ$1..9ï¼Œå¤§äºŽ9éœ€è¦ç”¨${10}è¡¨ç¤º$#: ä»£è¡¨å‚æ•°æ€»æ•°é‡$*: ä»£è¡¨æ‰€æœ‰å‚æ•°ï¼Œ&quot;$*&quot;ç›¸å½“äºŽ$1 $2 ..$@: ä»£è¡¨æ‰€æœ‰å‚æ•°ï¼ˆå› æ­¤ä¸åŠ å¼•å·åŒ$*ï¼‰ï¼Œ&quot;$@&quot;ç›¸å½“äºŽ&quot;$1&quot;,&quot;$2&quot;.. crontabFrom: Ubuntuå­¦ä¹ _åšå®¢å›­-u userï¼šç”¨æ¥è®¾å®šæŸä¸ªç”¨æˆ·çš„crontabæœåŠ¡ï¼›-eï¼šç¼–è¾‘æŸä¸ªç”¨æˆ·çš„crontabæ–‡ä»¶å†…å®¹ã€‚å¦‚æžœä¸æŒ‡å®šç”¨æˆ·ï¼Œåˆ™è¡¨ç¤ºç¼–è¾‘å½“å‰ç”¨æˆ·çš„crontabæ–‡ä»¶ã€‚-lï¼šæ˜¾ç¤ºæŸä¸ªç”¨æˆ·çš„crontabæ–‡ä»¶å†…å®¹ï¼Œå¦‚æžœä¸æŒ‡å®šç”¨æˆ·ï¼Œåˆ™è¡¨ç¤ºæ˜¾ç¤ºå½“å‰ç”¨æˆ·çš„crontabæ–‡ä»¶å†…å®¹ã€‚-rï¼šä»Ž/var/spool/cronç›®å½•ä¸­åˆ é™¤æŸä¸ªç”¨æˆ·çš„crontabæ–‡ä»¶ï¼Œå¦‚æžœä¸æŒ‡å®šç”¨æˆ·ï¼Œåˆ™é»˜è®¤åˆ é™¤å½“å‰ç”¨æˆ·çš„crontabæ–‡ä»¶ã€‚-iï¼šåœ¨åˆ é™¤ç”¨æˆ·çš„crontabæ–‡ä»¶æ—¶ç»™ç¡®è®¤æç¤º123456789* * * * * command to be executed- - - - - -| | | | | || | | | | --- é¢„æ‰§è¡Œçš„å‘½ä»¤| | | | ----- è¡¨ç¤ºæ˜ŸæœŸ0ï½ž7ï¼ˆå…¶ä¸­æ˜ŸæœŸå¤©å¯ä»¥ç”¨0æˆ–7è¡¨ç¤ºï¼‰| | | ------- è¡¨ç¤ºæœˆä»½1ï½ž12| | --------- è¡¨ç¤ºæ—¥æœŸ1ï½ž31| ----------- è¡¨ç¤ºå°æ—¶1ï½ž23ï¼ˆ0è¡¨ç¤º0ç‚¹ï¼‰------------- è¡¨ç¤ºåˆ†é’Ÿ1ï½ž59 æ¯åˆ†é’Ÿç”¨*æˆ–è€… */1è¡¨ç¤º sed1sed [-nefr] [åŠ¨ä½œ] [æ–‡ä»¶]é€‰é¡¹ä¸Žå‚æ•°:-nï¼šä½¿ç”¨å®‰é™(silent)æ¨¡å¼ã€‚åœ¨ä¸€èˆ¬ sed çš„ç”¨æ³•ä¸­ï¼Œæ‰€æœ‰æ¥è‡ª STDIN çš„æ•°æ®ä¸€èˆ¬éƒ½ä¼šè¢«åˆ—å‡ºåˆ°ç»ˆç«¯ä¸Šã€‚ä½†å¦‚æžœåŠ ä¸Š -n å‚æ•°åŽï¼Œåˆ™åªæœ‰ç»è¿‡sed ç‰¹æ®Šå¤„ç†çš„é‚£ä¸€è¡Œ(æˆ–è€…åŠ¨ä½œ)æ‰ä¼šè¢«åˆ—å‡ºæ¥-eï¼šç›´æŽ¥åœ¨å‘½ä»¤åˆ—æ¨¡å¼ä¸Šè¿›è¡Œ sed çš„åŠ¨ä½œç¼–è¾‘-fï¼šç›´æŽ¥å°† sed çš„åŠ¨ä½œå†™åœ¨ä¸€ä¸ªæ–‡ä»¶å†…ï¼Œ -f filename åˆ™å¯ä»¥è¿è¡Œ filename å†…çš„ sed åŠ¨ä½œ-rï¼šsed çš„åŠ¨ä½œæ”¯æŒçš„æ˜¯å»¶ä¼¸åž‹æ­£è§„è¡¨ç¤ºæ³•çš„è¯­æ³•ã€‚(é»˜è®¤æ˜¯åŸºç¡€æ­£è§„è¡¨ç¤ºæ³•è¯­æ³•)-iï¼šç›´æŽ¥ä¿®æ”¹è¯»å–çš„æ–‡ä»¶å†…å®¹ï¼Œè€Œä¸æ˜¯è¾“å‡ºåˆ°ç»ˆç«¯ã€‚åŠ¨ä½œ:[n1[,n2]] (åŠ¨ä½œ): è¡¨ç¤ºæŒ‡å®šä¿®æ”¹çš„è¡ŒèŒƒå›´, ä»Žn1åˆ°n2, ä¸ºç©ºè¡¨ç¤ºå…¨æ–‡èŒƒå›´;a: æ–°å¢ž, açš„åŽé¢å¯ä»¥æŽ¥å­—ä¸²ï¼Œè€Œè¿™äº›å­—ä¸²ä¼šåœ¨æ–°çš„ä¸€è¡Œå‡ºçŽ°(ç›®å‰çš„ä¸‹ä¸€è¡Œ);c: æ›¿æ¢, cçš„åŽé¢å¯ä»¥æŽ¥å­—ä¸²ï¼Œè¿™äº›å­—ä¸²å¯ä»¥å–ä»£ n1,n2 ä¹‹é—´çš„è¡Œ;d: åˆ é™¤, å› ä¸ºæ˜¯åˆ é™¤å•Šï¼Œæ‰€ä»¥ d åŽé¢é€šå¸¸ä¸æŽ¥ä»»ä½•å’šå’šï¼›i: æ’å…¥,èŒƒä¾‹:ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤åˆ›å»ºäº†æµ‹è¯•æ ·æœ¬:1for i in &#123;1..10&#125;;do touch i.txt; echo "$i" &gt;&gt; i.txt;done;åˆ é™¤å®žä¾‹:12345678910111213# åˆ é™¤å•è¡Œsed -e &quot;1d&quot; i.txt# åˆ é™¤å•è¡Œ(æ­£åˆ™æ–¹å¼)sed -e &quot;/4/d&quot; i.txt # åˆ é™¤åŒ…å«4çš„è¡Œ# åˆ é™¤å¤šè¡Œsed -e &quot;1,3d&quot; i.txt # åˆ é™¤1è‡³3è¡Œsed -e &quot;1d;3d;5d&quot; i.txt # åˆ é™¤1,3,5è¡Œ# åˆ é™¤å¤šè¡Œ(æ­£åˆ™æ–¹å¼)sed -e &quot;/4/,/8/d&quot; i.txt # åˆ é™¤ä»ŽåŒ…å«4çš„è¡Œåˆ°åŒ…å«8çš„è¡Œ(åŒ…å«è‡ªå·±)sed -e &quot;1,/8/d&quot; i.txt # åˆ é™¤ä»Žç¬¬ä¸€è¡Œå¼€å§‹åˆ°ç¬¬ä¸€ä¸ªåŒ…å«8çš„è¡Œ å£°æ˜Žç‰ˆæƒï¼š 2018-nowï¼ŒðŸ‡¨ðŸ‡³ï¼Œzangjiaao&lt;zangjiaao@yahoo.com&gt;ç”±å®¶æµ©åˆ›ä½œå¹¶ç»´æŠ¤çš„zangjiaao's blogåšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜Žå¤–ï¼Œå‡é‡‡ç”¨&quot;åˆ›ä½œå…±ç”¨ä¿ç•™ç½²å-éžå•†ä¸š-ç¦æ­¢æ¼”ç»Ž4.0å›½é™…è®¸å¯è¯&quot;ã€‚æœ¬æ–‡é¦–å‘äºŽzangjiaaoâ€™s blogåšå®¢ï¼Œè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ã€‚]]></content>
      <categories>
        <category>03_å·¥å…·æ‰‹å†Œ</category>
      </categories>
      <tags>
        <tag>shell</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kaliä½¿ç”¨æŠ€å·§]]></title>
    <url>%2F2018%2F06%2F11%2FKali%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7%2F</url>
    <content type="text"><![CDATA[æ¦‚è¿°ï¼š ç”¨äºŽè®°å½•ä¸€äº›æ—¥å¸¸å®žç”¨kaliçš„ä¸€äº›ç£•ç£•ç»Šç»Šï¼Œæ¯•ç«Ÿä¸èƒ½åœ¨ä¸€å—çŸ³å¤´ä¸Šæ ½å¥½å‡ è·Ÿå¤´å§â€¦ ðŸ˜‚ Kaliä½¿ç”¨æŠ€å·§å®‰è£… OpenVASå¯åŠ¨åœæ­¢ç®¡ç†ç”¨æˆ·å®‰è£… chromeä»¥rootèº«ä»½è¿è¡Œchromeè§£å†³æ‰“å¼€æ—¶å¼¹â€œè¾“å…¥å¯†ç ä»¥è§£é”æ‚¨çš„ç™»å½•å¯†é’¥çŽ¯â€é—®é¢˜å®‰è£… proxychains+shadowsockså®‰è£… VMware ToolsMetasploit è‡ªåŠ¨è¿žæŽ¥ postgresqlç³»ç»Ÿæ›´æ–°å¤±è´¥è§£å†³åŠžæ³•å£°æ˜Ž å®‰è£… OpenVASå‚è€ƒï¼šConfiguring and Tuning OpenVAS in Kali Linux ã€OpenVAS 8.0 Vulnerability Scanningã€ openVAS å®˜ç½‘ã€‚ä½¿ç”¨ä¸‹é¢æ–¹æ³•è¿›è¡Œå®‰è£…ï¼š12345root@kali:~# apt-get updateroot@kali:~# apt-get dist-upgraderoot@kali:~# apt-get install openvasroot@kali:~# openvas-setup å¯åŠ¨åœæ­¢12345678910# å¯åŠ¨root@kali:~# openvas-startStarting OpenVas ServicesStarting Greenbone Security Assistant: gsad.Starting OpenVAS Scanner: openvassd.Starting OpenVAS Manager: openvasmd.# åœæ­¢root@kali:~# openvas-stopStopping OpenVas Services ç®¡ç†ç”¨æˆ·è¿è¡Œopenvasmd â€“-create-userç”¨äºŽæ·»åŠ æ–°ç”¨æˆ·ï¼š12345root@kali:~# openvasmd --create-user=dookieUser created with password 'yyyyyyyy-yyyy-yyyy-yyyy-yyyyyyyyyy'.root@kali:~# openvasmd --get-usersadmindookieä¿®æ”¹å¯†ç ï¼š12root@kali:~# openvasmd --user=dookie --new-password=s3cr3troot@kali:~# openvasmd --user=admin --new-password=sup3rs3cr3t å®‰è£… chromeç”±äºŽæ²™ç®±çš„ç¼˜æ•…ï¼Œkali ä½¿ç”¨ chrome éœ€è¦ä½¿ç”¨ root æ–¹å¼ï¼Œè¿™æ ·å°±å¤„ç½šäº† chrome çš„å®‰å…¨æœºåˆ¶ï¼Œéœ€è¦æ·»åŠ å‚æ•°ã€‚å®‰è£…æ­¥éª¤åªéœ€è¦è¿›è¡Œä»¥ä¸‹å‡ æ­¥ï¼šæ‰“å¼€ chrome ç½‘ç«™ï¼Œä¸‹è½½åˆ°.deb å®‰è£…æ–‡ä»¶ï¼›è¿›å…¥åˆ°ä¸‹è½½ç›®å½•ï¼Œæ‰§è¡Œdpkg --install xxx.debè¿›è¡Œå®‰è£…ï¼›å®‰è£…è¿‡ç¨‹ä¾èµ–é—®é¢˜æŠ¥é”™éœ€è¦ä½¿ç”¨apt-get -f installè¿›è¡Œä¿®å¤ï¼›ä¿®å¤å®Œæˆä»¥åŽï¼Œå†è¿è¡Œå®‰è£…å‘½ä»¤å³å¯å®‰è£…ã€‚ ä»¥rootèº«ä»½è¿è¡Œchromeç›´æŽ¥åœ¨æ¡Œé¢ä½¿ç”¨ root æ‰“å¼€ chrome æ˜¯æ²¡æœ‰ååº”çš„ï¼Œå› ä¸ºå‡ºå‘äº†ä¿æŠ¤æœºåˆ¶ã€‚å®˜æ–¹è¯´è¦è¿½åŠ --no-sandboxå‚æ•°æ‰èƒ½ç»§ç»­ï¼ˆæˆ‘ç›´æŽ¥ä½¿ç”¨ç»å¯¹è·¯å¾„/opt/goole/chrome/google-chromeæ‰“å¼€æ—¶é€šè¿‡é”™è¯¯ä¿¡æ¯æ‰å‘çŽ°çš„ã€‚ï¼‰ï¼Œéœ€è¦è¿›è¡Œä»¥ä¸‹æ“ä½œï¼šä½¿ç”¨ä»»æ„æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€æ–‡ä»¶/opt/goole/chrome/google-chromeï¼Œå®šä½åˆ°æœ€ä¸‹æ–¹çœ‹åˆ°è¯¸å¦‚ä»¥ä¸‹å†…å®¹:12# Note: exec -a below is a bashism.exec -a &quot;$0&quot; &quot;$HERE/chrome&quot; &quot;$@&quot;è¿™é‡Œåªéœ€è¦ä¿®æ”¹ä¸ºä»¥ä¸‹å†…å®¹å³å¯ï¼š12# Note: exec -a below is a bashism.exec -a &quot;$0&quot; &quot;$HERE/chrome&quot; &quot;$@&quot; --no-sandboxä¿å­˜åŽé‡æ–°æ‰“å¼€å³å¯ã€‚ è§£å†³æ‰“å¼€æ—¶å¼¹â€œè¾“å…¥å¯†ç ä»¥è§£é”æ‚¨çš„ç™»å½•å¯†é’¥çŽ¯â€é—®é¢˜è¿™ä¸ªé—®é¢˜ç®€ç›´æ˜¯èŽ«åå…¶å¦™ï¼Œè¾“å…¥ root å¯†ç å±…ç„¶è¯´ä¸å¯¹â€¦ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•è§£å†³ï¼šé¦–å…ˆåœ¨ç»ˆç«¯è¾“å…¥seahorseæ‰“å¼€â€œå¯†ç ä¸Žå¯†é’¥â€ï¼ˆå¦‚æžœå‘½ä»¤ä¸å­˜åœ¨ä½¿ç”¨apt-get install seahoreså®‰è£…å³å¯ï¼‰;é¦–å…ˆåˆ é™¤é»˜è®¤çš„â€œå¯†ç â€ä¸‹çš„â€œLoginâ€æˆ–è€…â€œç™»å½•â€ï¼Œå³é”®ç‚¹å‡»é‡Œé¢å°±æœ‰åˆ é™¤ï¼›åˆ é™¤å®ŒåŽé€€å‡ºï¼Œé‡æ–°æ‰“å¼€ chromeï¼Œè¿˜ä¼šå¼¹çª—ï¼Œç›´æŽ¥è¾“å…¥ä¸¤ä¸ªå›žè½¦ï¼ˆä¹Ÿå°±æ˜¯éƒ½ä¸ºç©ºï¼‰ã€‚ä¼šæç¤ºâ€œä»¥ä¸åŠ å¯†æ–¹å¼å­˜å‚¨å¯†ç å—ï¼Ÿâ€ï¼Œç›´æŽ¥â€œç»§ç»­â€å³å¯ã€‚ å®‰è£… proxychains+shadowsocksä¸»è¦ä¸ºäº†æŒ‚ä»£ç†å¹²å¤§äº‹ï¼Œæ›´æ–°å•Šå•¥çš„è¿˜æ˜¯ç”¨ proxychains å¿«ç‚¹ã€‚Kali åŽŸç”Ÿå…¶å®žå¸¦ 3.x çš„ proxychains çš„ï¼Œä½†æ˜¯ç‰ˆæœ¬å¤ªä½Žä¸æ”¯æŒæ–°ç‰ˆ apt å·¥å…·ï¼Œæ‰€ä»¥éœ€è¦æ”¹æˆ proxychains-ng ä¹Ÿå°±æ˜¯ 4.0ã€‚step1. é¦–å…ˆéœ€è¦åˆ é™¤ Kali åŽŸç”Ÿçš„ proxychainsï¼Œä½¿ç”¨apt-get remove proxychainsåˆ é™¤ã€‚step2. è¿›å…¥Github åœ°å€ä¸‹è½½å®‰è£…ï¼Œå®˜æ–¹æ–‡æ¡£ä»‹ç»å®‰è£…æ–¹æ³•å¾ˆæ¸…æ¥šäº†ï¼Œä½¿ç”¨ç¼–è¯‘çš„æ–¹æ³•å®‰è£…å³å¯ï¼š1234567891011*** Installation *** git clone https://github.com/rofl0r/proxychains-ng.git cd proxychains-ng # needs a working C compiler, preferably gcc ./configure --prefix=/usr --sysconfdir=/etc make [optional] sudo make install [optional] sudo make install-config (installs proxychains.conf) # if you dont install, you can use proxychains from the build directory like this: ./proxychains4 -f src/proxychains.conf telnet google.com 80step3.  æŽ¥ä¸‹æ¥è¿›å…¥pip-shadowsockså®‰è£… ssï¼š12345678# Install# Debian / Ubuntu:apt-get install python-pippip install shadowsocks# CentOS:yum install python-setuptools &amp;&amp; easy_install pippip install shadowsocksstep4. æ·»åŠ é…ç½®æ–‡ä»¶ï¼š123456789101112// /etc/shadowsocks.json&#123; "server":"207.148.26.251", "server_port":543, "local_port":1080, "password":"z4931568", "timeout":600, "method":"aes-256-cfb"&#125;// /root/start-shadosocks.shsslocal -c /etc/shadowsocks.json -d startstep5. å¯åŠ¨æ—¶å€™ä¼šæŠ¥é”™â€œloading libcrypto from libcrypto.so.1.1â€çš„é”™è¯¯ï¼Œè¿™ä¸ªé—®é¢˜æ˜¯ç”±äºŽåœ¨ openssl1.1.0 ç‰ˆæœ¬ä¸­ï¼ŒåºŸå¼ƒäº† EVP_CIPHER_CTX_cleanup å‡½æ•°ã€‚æŒ‰ç…§ä¸‹é¢çš„æ–¹æ³•è°ƒæ•´ä¸€ä¸‹ï¼švim /usr/local/lib/python2.7/dist-packages/shadowsocks/crypto/openssl.py (è¯¥è·¯å¾„è¯·æ ¹æ®è‡ªå·±çš„ç³»ç»Ÿæƒ…å†µè‡ªè¡Œä¿®æ”¹ï¼Œå¦‚æžœä¸çŸ¥é“è¯¥æ–‡ä»¶åœ¨å“ªé‡Œçš„è¯ï¼Œå¯ä»¥ä½¿ç”¨ find å‘½ä»¤æŸ¥æ‰¾æ–‡ä»¶ä½ç½®)ï¼›åœ¨ vim ä¸­è¾“å…¥:%s/cleanup/reset/gä¿å­˜å¹¶é€€å‡ºstep6. ä¿®æ”¹/etc/proxychains.confï¼Œæœ€åŽä¸€è¡Œæ¢æˆsocks5 127.0.0.1 1080å³å¯å®Œæˆå®‰è£…ã€‚ å®‰è£… VMware Toolså‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚12345apt update &amp;&amp; apt -y full-upgrade# Reboot now in case you have updated to a new kernel. Once rebooted:apt -y --reinstall install open-vm-tools-desktop fuserebootå®‰è£…å®ŒæˆåŽè¿˜éœ€è¦åœ¨æŸ¥çœ‹-ã€‹è‡ªåŠ¨è°ƒæ•´å¤§å°ä¸­å‹¾é€‰â€œè‡ªåŠ¨é€‚åº”å®¢æˆ·æœºâ€å’Œâ€œè‡ªåŠ¨é€‚åº”çª—å£â€ Metasploit è‡ªåŠ¨è¿žæŽ¥ postgresqlç®€è¿°ï¼š Kali è‡ªå¸¦çš„ Metasploit ä¸Ž ppstgresql ä¸ä¼šè‡ªåŠ¨è¿žæŽ¥ï¼Œæ—¶å¸¸å‡ºçŽ°&quot;[-] Database not connected&quot;çš„é—®é¢˜ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜éœ€è¦è®©è¿™ä¿©è‡ªåŠ¨è¿žæŽ¥ã€‚å…¶ä»–å†…å®¹å¯å‚è€ƒè¿™è¾¹æ–‡ç« ã€‚1ã€ä½¿ Postgresql è‡ªå¯åŠ¨script12345678910111213141516171819202122systemctl status postgresql Active: inactive (dead)systemctl enable postgresql Executing: /lib/systemd/systemd-sysv-install enable postgresqlsystemctl start postgresqlmsfdb init [i] Database already started [+] Creating database user 'msf' ä¸ºæ–°è§’è‰²è¾“å…¥çš„å£ä»¤: å†è¾“å…¥ä¸€é: [+] Creating databases 'msf' [+] Creating databases 'msf_test' [+] Creating configuration file '/usr/share/metasploit-framework/config/database.yml' [+] Creating initial database schemamsfconsolemsf &gt; db_status [*] postgresql connected to msf ç³»ç»Ÿæ›´æ–°å¤±è´¥è§£å†³åŠžæ³•å‚è€ƒï¼šKali Linux æ›´æ–°å¤±è´¥ã€‚æŠ¥é”™ä¸­å¯ä»¥çœ‹å‡ºæ˜¯ç”±äºŽå¯†é’¥è¿‡æœŸã€‚é¦–å…ˆä½¿ç”¨æŸ¥çœ‹ç³»ç»Ÿé‡Œæ‰€æœ‰çš„å¯†é’¥ä¿¡æ¯ï¼š1apt-key listé€šè¿‡è¾“å‡ºç»“æžœçš„æœ€åŽä¸€è¡Œå°±æ˜¯å¯¼è‡´è¿™æ¬¡é—®é¢˜çš„å…¬é’¥ï¼Œåˆ°æœŸæ—¶é—´æ˜¯ 2018 å¹´ 2 æœˆ 2 æ—¥ï¼ˆæœ‰æ•ˆæœŸå¤§çº¦æ˜¯ 6 å¹´ï¼‰ã€‚å…·ä½“æ›´æ–°æ–¹æ³•æœ‰ä»¥ä¸‹å‡ ç§æ–¹æ³•ï¼šï¼ˆä»»é€‰ä¸€ç§å³å¯ï¼‰123456789101112131ã€apt-key adv --keyserver keys.gnupg.net --recv-keys ED444FF07D8D0BF62ã€wget -q -O - archive.kali.org/archive-key.asc | apt-key add3ã€gpg --keyserver hkp://pgpkeys.mit.edu --recv-key ED444FF07D8D0BF6gpg -a --export ED444FF07D8D0BF6 | sudo apt-key add -4ã€wget https://http.kali.org/kali/pool/main/k/kali-archive-keyring/kali-archive-keyring_2018.1_all.debapt install ./kali-archive-keyring_2018.1_all.deb å£°æ˜Žç‰ˆæƒï¼š 2018-nowï¼ŒðŸ‡¨ðŸ‡³ï¼Œzangjiaao&lt;zangjiaao@yahoo.com&gt;ç”±å®¶æµ©åˆ›ä½œå¹¶ç»´æŠ¤çš„zangjiaao's blogåšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜Žå¤–ï¼Œå‡é‡‡ç”¨&quot;ç½²å-éžå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº«4.0(CC BY-NC-SA 4.0)å›½é™…è®¸å¯è¯&quot;ã€‚æœ¬æ–‡é¦–å‘äºŽzangjiaaoâ€™s blogåšå®¢ï¼Œè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ã€‚]]></content>
      <categories>
        <category>03_å·¥å…·æ‰‹å†Œ</category>
      </categories>
      <tags>
        <tag>kali</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Cmderç¾ŽåŒ–ä¸Žå¢žå¼º]]></title>
    <url>%2F2018%2F06%2F10%2FCmder%E7%BE%8E%E5%8C%96%E4%B8%8E%E5%A2%9E%E5%BC%BA%2F</url>
    <content type="text"><![CDATA[æ¦‚è¿°ï¼š ä¸»è¦ä»‹ç»äº†ä¸€äº›cmderçš„ç¾ŽåŒ–æ“ä½œï¼Œä»¥åŠå…¶ä¸­ç»§æ‰¿çš„gitå°æ’ä»¶â€¦ Cmder é…ç½®å®‰è£… Chocolatey åŒ…ç®¡ç†å®‰è£… Cmderæ–¹æ³• aï¼šChocolateyæ–¹æ³• bï¼šå®˜ç½‘ä¸‹è½½ full ç‰ˆæœ¬å®‰è£… Powerline å­—ä½“å®‰è£… Posh-Git åŠ Oh-My-Poshå®‰è£… Get-ChildItemColoré…ç½® PowerShell çš„$PROFILEå£°æ˜Žæ•ˆæžœå›¾ï¼š å®‰è£… Chocolatey åŒ…ç®¡ç†å‚è€ƒï¼š Pimping Up Your PowerShell &amp; Cmder with Posh-Git, Oh-My-Posh, &amp; Powerline Fontsä½¿ç”¨ç®¡ç†å‘˜èº«ä»½æ‰“å¼€ Powershellï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ä¿®æ”¹æ‰§è¡Œæƒé™ï¼š1Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Forceè¿™é‡Œ PS å¯èƒ½ä¼šæŠ¥é”™ï¼Œæƒé™é™¤äº†RemoteSignedè¿˜å¯ä»¥æ”¹ä¸ºByPassã€Unrestrictedï¼Œæ‰§è¡ŒGet-ExecutionPolicyæ£€æŸ¥å½“å‰çŠ¶æ€ã€‚éšåŽä½¿ç”¨ä¸‹é¢å‘½ä»¤å®‰è£… chocolateyï¼š1iwr https://chocolatey.org/install.ps1 -UseBasicParsing | iex å®‰è£… Cmder æ–¹æ³• aï¼šChocolateyæ‰§è¡Œä¸‹é¢å‘½ä»¤è¿›è¡Œå®‰è£…ï¼š1cinst cmder -yè¿™ä¸ªæ–¹æ³•è²Œä¼¼ä¸å¸¦ git ç­‰å·¥å…·ï¼Œè¿˜éœ€è¦å•ç‹¬å®‰è£…ï¼Œæˆ‘é€‰æ‹©æ–¹æ³• b å®‰è£…ã€‚ æ–¹æ³• bï¼šå®˜ç½‘ä¸‹è½½ full ç‰ˆæœ¬ç›´æŽ¥åŽ»å®˜ç½‘ä¸‹è½½ã€‚ å®‰è£… Powerline å­—ä½“è¿è¡Œä¸‹é¢å‘½ä»¤ï¼š123git clone https://github.com/powerline/fonts.gitcd fonts.\install.ps1ä½†æ˜¯è¿™ä¸ªæ–¹æ³•å®‰è£…çš„æ˜¯æ‰€æœ‰å­—ä½“ï¼Œæ¯”è¾ƒæ…¢ä¹Ÿæ²¡æœ‰å¿…è¦ï¼Œåªéœ€è¦å®‰è£…è¿™ä¸ªå­—ä½“å³å¯ã€‚ å®‰è£… Posh-Git åŠ Oh-My-Poshç®€ä»‹ï¼š Posh-Git (PowerShell Git) ä¸»è¦ç”¨äºŽå½“ä½ è¿›å…¥ä¸€ä¸ªåŒ…å« git é¡¹ç›®æ—¶ï¼Œæ˜¾ç¤ºé¡¹ç›®ä¿¡æ¯ã€‚Oh-My-Posh åˆ™ä¸»è¦ç”¨äºŽå®šä¹‰ Posh-Git çš„ä¸»é¢˜ã€‚è¿è¡Œä¸‹é¢çš„å‘½ä»¤å®‰è£…Posh-Gitï¼š123Install-PackageProvider NuGet -MinimumVersion '2.8.5.201' -ForceSet-PSRepository -Name PSGallery -InstallationPolicy TrustedInstall-Module -Name 'posh-git'è¿è¡Œä¸‹é¢çš„å‘½ä»¤å®‰è£…Oh-My-Posh:1Install-Module -Name 'oh-my-posh'å¯ä»¥å‰å¾€oh-my-poshé¢„è§ˆä¸»é¢˜ã€‚ å®‰è£… Get-ChildItemColorç®€ä»‹ï¼š ä¸»è¦ç”¨äºŽå®šä¹‰åˆ—ç›®å½•é£Žæ ¼ï¼ŒGet-ChildItemColoræ˜¯ä¼ ç»Ÿ PS é£Žæ ¼ï¼ŒGet-ChildItemColorFormatWideæ˜¯ç±» Unix é£Žæ ¼ï¼Œä¸‹é¢é…ç½®æ–‡ä»¶é‡Œé¢ä¹Ÿä¼šæ˜ å°„låŠlsæ¥æ›¿ä»£ã€‚è¿è¡Œä¸‹é¢çš„å‘½ä»¤è¿›è¡Œå®‰è£…ï¼š1Install-Module -Name 'Get-ChildItemColor' é…ç½® PowerShell çš„$PROFILEè¿™é‡Œé»˜è®¤çš„$PROFILE æ˜¯C:\Users\18354\Documents\WindowsPowerShell\Microsoft.PowerShell_profile.ps1ï¼Œå¦‚æžœä¿®æ”¹è¿™ä¸ªæ–‡ä»¶ä¼šè”åŠ¨åˆ° Powershellï¼Œä½†æ˜¯æˆ‘æ¯”è¾ƒä¹ æƒ¯åªä¿®æ”¹ cmder çš„é…ç½®æ–‡ä»¶%CMDER_ROOT%\vendor\profile.ps1ï¼Œåªéœ€è¦åœ¨æœ€åŽè¿½åŠ ä¸‹é¢å†…å®¹å³å¯ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051# Ensure that Get-ChildItemColor is loadedImport-Module Get-ChildItemColor# Set l and ls alias to use the new Get-ChildItemColor cmdletsSet-Alias l Get-ChildItemColor -Option AllScopeSet-Alias ls Get-ChildItemColorFormatWide -Option AllScope# Helper function to change directory to my development workspace# Change c:\ws to your usual workspace and everytime you type# in cws from PowerShell it will take you directly there.function cws &#123; Set-Location c:\ws &#125;# Helper function to set location to the User Profile directoryfunction cuserprofile &#123; Set-Location ~ &#125;Set-Alias ~ cuserprofile -Option AllScope# Helper function to show Unicode characterfunction U&#123; param ( [int] $Code ) if ((0 -le $Code) -and ($Code -le 0xFFFF)) &#123; return [char] $Code &#125; if ((0x10000 -le $Code) -and ($Code -le 0x10FFFF)) &#123; return [char]::ConvertFromUtf32($Code) &#125; throw "Invalid character code $Code"&#125;# Ensure posh-git is loadedImport-Module -Name posh-git# Start SshAgent if not already# Need this if you are using github as your remote git repositoryif (! (ps | ? &#123; $_.Name -eq 'ssh-agent'&#125;)) &#123; Start-SshAgent&#125;# Ensure oh-my-posh is loadedImport-Module -Name oh-my-posh# Default the prompt to agnoster oh-my-posh themeSet-Theme agnoster å£°æ˜Žç‰ˆæƒï¼š 2018-nowï¼ŒðŸ‡¨ðŸ‡³ï¼Œzangjiaao&lt;zangjiaao@yahoo.com&gt;ç”±å®¶æµ©åˆ›ä½œå¹¶ç»´æŠ¤çš„zangjiaao's blogåšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜Žå¤–ï¼Œå‡é‡‡ç”¨&quot;ç½²å-éžå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº«4.0(CC BY-NC-SA 4.0)å›½é™…è®¸å¯è¯&quot;ã€‚æœ¬æ–‡é¦–å‘äºŽzangjiaaoâ€™s blogåšå®¢ï¼Œè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ã€‚]]></content>
      <categories>
        <category>05_æ—¥å¸¸æŠ˜è…¾</category>
      </categories>
      <tags>
        <tag>cmder</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[WebGoaté¡¹ç›®æ­å»º]]></title>
    <url>%2F2018%2F06%2F10%2FWebGoat%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA%2F</url>
    <content type="text"><![CDATA[æ¦‚è¿°ï¼š è®°å½•Webgoaté¡¹ç›®çš„æ­å»ºè¿‡ç¨‹ã€‚åŒ…æ‹¬ç”¨mavenæž„å»ºï¼›ç”¨jenkins(è¿˜æ²¡æœ‰å¼€å§‹å†™â€¦)è¿›è¡Œè‡ªåŠ¨åŒ–éƒ¨ç½²ã€æµ‹è¯•ï¼›æºç å®¡è®¡çš„ä¸€äº›è®°å½•â€¦(TODOâ€¦) WebGoaté¡¹ç›®æ­å»ºç®€ä»‹å‡†å¤‡éƒ¨ç½²WebGoaté¡¹ç›®å£°æ˜Ž ç®€ä»‹æœ¬æ¬¡æ“ä½œåœ¨macä¸‹è¿›è¡Œã€‚ä¸»è¦æ˜¯ä¸ºäº†æºç æ–¹å¼è¿è¡ŒWebGoat/WebGoatï¼Œç„¶åŽå­¦ä¹ javaä»£ç å®¡è®¡ã€‚ å‡†å¤‡jdkå®‰è£…: å®˜ç½‘ä¸‹è½½jdk8ã€‚ç„¶åŽé…ç½®çŽ¯å¢ƒå˜é‡ï¼Œå†™åˆ°/etc/profileé‡Œã€‚1export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_171.jdk/Contents/Homemavenå®‰è£…: å®˜ç½‘ä¸‹è½½äºŒè¿›åˆ¶åŒ…ã€‚å»ºè®®è§£åŽ‹åˆ°/usr/local/apache-mavenä¸­ã€‚ç„¶åŽé…ç½®çŽ¯å¢ƒå˜é‡ï¼Œå†™åˆ°/etc/profileé‡Œã€‚éšåŽä½¿ç”¨mvn -versionæŸ¥çœ‹ä¸€ä¸‹ç‰ˆæœ¬ã€‚1234export M2_HOME=/usr/local/apache-maven/apache-maven-3.5.3export M2=$M2_HOME/binexport MAVEN_OPTS="-Xms256m -Xmx512m"export PATH=$M2:$PATH éƒ¨ç½²WebGoaté¡¹ç›®ä¾æ®å®˜ç½‘æ–‡æ¡£ä¸­çš„æ–¹æ³•ã€‚ä¸‹è½½æºç :1git clone git@github.com:WebGoat/WebGoat.gitéƒ¨ç½²:12cd WebGoatmvn clean installmvnç¼–è¯‘åˆ°xxeæ—¶å€™ä¼šæŠ¥é”™ï¼Œæç¤ºmaven-surefire-pluginçš„There are test failuresé”™è¯¯(å‚è€ƒ)ï¼Œéœ€è¦åœ¨pom.xmlæ–‡ä»¶ä¸­buildèŠ‚ç‚¹ä¸‹pluginsèŠ‚ç‚¹ä¸­ä¸‹æ·»åŠ ä¸‹é¢å†…å®¹ï¼š1234567&lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt; &lt;configuration&gt; &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt; &lt;/configuration&gt;&lt;/plugin&gt;è¿è¡Œ:WebGoatä½¿ç”¨Spring-bootå¯åŠ¨ï¼š1234# è¿è¡Œwebgoat-servermvn -pl webgoat-server spring-boot:run# è¿è¡Œwebwolfï¼Œæ³¨æ„è¿™é‡Œçš„ç›®å½•ä¹Ÿæ˜¯ WebGoat/mvn -pl webwolf spring-boot:runwebgoatè®¿é—®åœ°å€:1http://localhost:8080/WebGoatwebwolfè®¿é—®åœ°å€:1http://127.0.0.1:8081/loginðŸ“– è¯´æ˜Žï¼š mvnå‚æ•°ï¼š-am, --alsomake: åŒæ—¶æž„å»ºæ‰€åˆ—æ¨¡å—çš„ä¾èµ–æ¨¡å—æ¨¡å—ï¼›-amd, --also-make-dependents: åŒæ—¶æž„å»ºä¾èµ–äºŽæ‰€åˆ—æ¨¡å—çš„æ¨¡å—ï¼›-pl, --projects&lt;arg&gt;: æž„å»ºæŒ‡å®šæ¨¡å—ï¼Œæ¨¡å—é—´ç”¨é€—å·åˆ†å‰²ï¼›-rf, -resume-from&lt;arg&gt;: ä»ŽæŒ‡å®šçš„æ¨¡å—å›žå¤ååº”å †ã€‚IDEAè”åŠ¨: IDEAé»˜è®¤è‡ªå¸¦mavençŽ¯å¢ƒï¼Œä¸æƒ³ç”¨é‚£ä¸ªçš„è¯å¯ä»¥åœ¨IDEAä¸­çš„ç»ˆç«¯ï¼Œå¯ä»¥åœ¨è®¾ç½®ä¸­æœç´¢mavenæ›´æ”¹çŽ¯å¢ƒè·¯å¾„ã€‚ å£°æ˜Žç‰ˆæƒï¼š 2018-nowï¼ŒðŸ‡¨ðŸ‡³ï¼Œzangjiaao&lt;zangjiaao@yahoo.com&gt;ç”±å®¶æµ©åˆ›ä½œå¹¶ç»´æŠ¤çš„zangjiaao's blogåšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜Žå¤–ï¼Œå‡é‡‡ç”¨&quot;ç½²å-éžå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº«4.0(CC BY-NC-SA 4.0)å›½é™…è®¸å¯è¯&quot;ã€‚æœ¬æ–‡é¦–å‘äºŽzangjiaaoâ€™s blogåšå®¢ï¼Œè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ã€‚]]></content>
      <categories>
        <category>02_çŽ¯å¢ƒæ­å»º</category>
      </categories>
      <tags>
        <tag>WebGoat</tag>
        <tag>DevOps</tag>
        <tag>maven</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Vimä½¿ç”¨æŠ€å·§]]></title>
    <url>%2F2018%2F06%2F09%2FVim%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7%2F</url>
    <content type="text"><![CDATA[æ¦‚è¿°ï¼š ä¸ºäº†æ–¹ä¾¿æŸ¥æ‰¾è®°å¿†ï¼Œåªè®°å½•ä¸€äº›æ„Ÿè§‰æ¯”è¾ƒå®žç”¨æŠ€å·§ï¼ŒåŸºç¡€æ“ä½œè¿˜è¯·è‡ªè¡Œæœç´¢â€¦ vimä½¿ç”¨æŠ€å·§æŠ€å·§* Tips001:æ•°å­—å¿«æ·åŠ å‡* Tips002:å¿«æ·åˆ é™¤ã€ä¿®æ”¹* Tips005:å¿«æ·æ–°æ—§ä½ç½®è·³è½¬* Tips006:ä¸Šä¸€æ­¥ä¸Žå–æ¶ˆä¸Šä¸€æ­¥* Tips009:æ›¿æ¢ã€è½¬æ¢* Tips010:æŸ¥æ‰¾* Tips011:ç¼©è¿›* Tips012:ä¿å­˜ã€è¯»å–Tips003:æ¨¡å¼åˆ‡æ¢Tips004:æ˜¾ç¤ºæ–‡ä»¶ä¿¡æ¯Tips007:å‰ªè´´æ¿Tips008:æ’å…¥ç‰¹æ®Šç¼–ç å­—ç¬¦é…ç½®* æœç´¢ã€é«˜äº®å‘½ä»¤è¡¥å…¨çª—å£åˆ‡æ¢* å‘Šè­¦é™éŸ³å£°æ˜Ž æŠ€å·§ * Tips001:æ•°å­—å¿«æ·åŠ å‡&lt;C-a&gt;: å¯¹æ•°å­—è¿›è¡ŒåŠ æ“ä½œã€‚&lt;C-x&gt;: å¯¹æ•°å­—è¿›è¡Œå‡æ“ä½œã€‚ðŸ’¡ æŠ€å·§ï¼š è¿žåœ¨ä¸€èµ·çš„æ•°å­—è¢«è§†ä¸ºä¸€ä¸ªæ•°å­—ã€‚å¯ä»¥ä½¿ç”¨{number}&lt;C-a&gt;æˆ–è€…{number}&lt;C-x&gt;è¿›è¡Œè®¡ç®—ï¼Œå¯é…åˆ.è¿›è¡Œæ“ä½œã€‚ * Tips002:å¿«æ·åˆ é™¤ã€ä¿®æ”¹i_&lt;C-w&gt;: åˆ é™¤å‰ä¸€ä¸ªå•è¯ã€‚i_&lt;C-h&gt;: åˆ é™¤å‰ä¸€ä¸ªå­—ç¬¦ã€‚i_&lt;C-u&gt;: åˆ è‡³è¡Œé¦–ã€‚ce: ä»Žå…‰æ ‡åˆ é™¤åˆ°è¯å°¾ï¼Œå¹¶è¿›å…¥æ’å…¥æ¨¡å¼ã€‚c$ï¼šä»Žå…‰æ ‡åˆ é™¤åˆ°è¡Œå°¾ï¼Œå¹¶è¿›å…¥æ’å…¥æ¨¡å¼ã€‚cwï¼šä»Žå…‰æ ‡åˆ é™¤åˆ°ä¸‹ä¸€ä¸ªå•è¯è¯é¦–ï¼Œå¹¶è¿›å…¥æ’å…¥æ¨¡å¼ã€‚C: ç­‰åŒäºŽc$ã€‚Dï¼šåˆ é™¤ä»Žå…‰æ ‡åˆ°ç»“å°¾çš„å†…å®¹ï¼ŒåŒd$ã€‚R: è¿›å…¥æ›¿æ¢æ¨¡å¼ï¼ŒæŒ‰&lt;ESC&gt;é”®é€€å‡ºã€‚ * Tips005:å¿«æ·æ–°æ—§ä½ç½®è·³è½¬&lt;C-O&gt;: è·³è½¬å›žæ—§ä½ç½®ã€‚&lt;C-I&gt;: è·³è½¬åˆ°æ–°ä½ç½®ã€‚ * Tips006:ä¸Šä¸€æ­¥ä¸Žå–æ¶ˆä¸Šä¸€æ­¥&lt;C-R&gt;: å›žåˆ°æ’¤é”€å‰çŠ¶æ€ã€‚ * Tips009:æ›¿æ¢ã€è½¬æ¢~ï¼šè½¬æ¢ä¸€ä¸ªå­—æ¯å¤§å°å†™ã€‚{num}~ï¼šè½¬æ¢æŒ‡å®šæ•°é‡çš„å­—æ¯å¤§å°å†™ã€‚g~~ï¼šè½¬æ¢å½“å‰ä¸€è¡Œå­—æ¯å¤§å°å†™ã€‚sv_U | v_uï¼šviewæ¨¡å¼ä¸‹ï¼Œè½¬æ¢å¤§å°å†™ã€‚gUU | guuï¼šå°†ä¸€è¡Œå…¨éƒ¨è½¬è‡³å¤§å†™æ´»æˆ–è€…å°å†™ã€‚{num}gUUï¼šå°†æŒ‡å®šæ•°é‡çš„è¡Œè¿›è¡Œè½¬æ¢ã€‚gUw | guwï¼šå°†å…‰æ ‡ä¸‹çš„å•è¯è½¬æ¢ã€‚:s/old/new: è¡Œå†…ä¸€æ¬¡æ›¿æ¢ã€‚:s/old/new/g: è¡Œå†…å…¨éƒ¨æ›¿æ¢ã€‚:{line_num1},{line_num2}s/old/new/g: å¤šè¡Œæ›¿æ¢ã€‚:%s/old/new/g: å…¨æ–‡æ›¿æ¢ã€‚:%s/old/new/gc: æ¯æ¬¡æ›¿æ¢è¿›è¡Œè¯¢é—®ã€‚ðŸ’¡ æŠ€å·§ï¼š Viewæ¨¡å¼ä¸‹ï¼Œå¯ä»¥åœ¨é€‰ä¸­åŒºåŸŸé‡Œæ›¿æ¢ã€‚ * Tips010:æŸ¥æ‰¾\: æ­£å‘æŸ¥æ‰¾ã€‚?: åå‘æŸ¥æ‰¾ã€‚ * Tips011:ç¼©è¿›&gt;G: è®©ä¸‹é¢çš„å†…å®¹ç¼©è¿›ã€‚ðŸ’¡ æŠ€å·§ï¼š Viewæ¨¡å¼ä¸‹ï¼Œå¯ä»¥å°†é€‰ä¸­åŒºåŸŸè¿›è¡Œç¼©è¿›ã€‚ * Tips012:ä¿å­˜ã€è¯»å–:w FILENAME: ä¿å­˜å¹¶å‘½åï¼Œé‡å¤ä½¿ç”¨ä¼šæ–°å»ºæ–‡ä»¶ã€‚v_:w FILENAME: å¯å°†é€‰ä¸­éƒ¨åˆ†ä¿å­˜åˆ°æ–‡ä»¶ã€‚:r FILENAME: å¯æå–ç£ç›˜æ–‡ä»¶ï¼Œå°†å…¶æ’å…¥åˆ°å½“å‰æ–‡ä»¶çš„å…‰æ ‡ä½ç½®ã€‚:r !dir: å¯ä»¥è¯»å– dir å‘½ä»¤çš„è¾“å‡ºå¹¶å°†å…¶æ”¾ç½®åˆ°å½“å‰æ–‡ä»¶çš„å…‰æ ‡ä½ç½®åŽé¢ã€‚ Tips003:æ¨¡å¼åˆ‡æ¢&lt;C-[&gt;: åˆ‡æ¢åˆ°æ™®é€šæ¨¡å¼ï¼Œä¸è¿‡ä¹ æƒ¯&lt;ESC&gt;é€€å‡ºäº†ã€‚&lt;C-o&gt;: ä¸´æ—¶åˆ‡æ¢æ’å…¥-æ™®é€šæ¨¡å¼ã€‚ Tips004:æ˜¾ç¤ºæ–‡ä»¶ä¿¡æ¯&lt;C-G&gt;: æ˜¾ç¤ºå½“å‰å…‰æ ‡æ‰€åœ¨ä½ç½®å’Œæ–‡ä»¶çŠ¶æ€ä¿¡æ¯ã€‚ Tips007:å‰ªè´´æ¿i_&lt;C-p&gt;: æ˜¾ç¤ºå¯„å­˜å™¨åˆ—è¡¨ï¼Œä½†æ˜¯åªèƒ½åœ¨VIMä¸­ä½¿ç”¨ã€‚ Tips008:æ’å…¥ç‰¹æ®Šç¼–ç å­—ç¬¦i_&lt;C-v&gt;: æ’å…¥æ¨¡å¼ä¸‹ï¼Œç”¨æ¥ä½¿ç”¨ASCIIæˆ–UNICODç æ’å…¥æŸä¸ªç‰¹æ®Šå­—ç¬¦ã€‚ é…ç½®è¾“å…¥ :set xxx å¯ä»¥è®¾ç½® xxx é€‰é¡¹ã€‚ä¸€äº›æœ‰ç”¨çš„é€‰é¡¹å¦‚ä¸‹ï¼š * æœç´¢ã€é«˜äº®ic | ignorecaseï¼šæŸ¥æ‰¾æ—¶å¿½ç•¥å­—æ¯å¤§å°å†™ã€‚is | incsearchï¼šæŸ¥æ‰¾çŸ­è¯­æ—¶æ˜¾ç¤ºéƒ¨åˆ†åŒ¹é…ã€‚hls | hlsearchï¼šé«˜äº®æ˜¾ç¤ºæ‰€æœ‰çš„åŒ¹é…çŸ­è¯­ã€‚ å‘½ä»¤è¡¥å…¨&lt;C-D&gt;: æŸ¥çœ‹å¯èƒ½çš„è¡¥å…¨ç»“æžœã€‚&lt;TAB&gt;: å¯ä»¥ä½¿ç”¨ä¸€ä¸ªè¡¥å…¨ã€‚ çª—å£åˆ‡æ¢CTRL-W CTRL-W: åˆ‡æ¢çª—å£ï¼ˆæ³¨æ„æ˜¯ä¸¤æ¬¡ï¼‰ã€‚ * å‘Šè­¦é™éŸ³vb | visualbellï¼šå±å¹•çš„é—ªçƒä»£æ›¿bellã€‚noeb | noerrorbellsï¼šè¾“å…¥å‡ºé”™ä¸å“bellã€‚ å£°æ˜Žç‰ˆæƒï¼š 2018-nowï¼ŒðŸ‡¨ðŸ‡³ï¼Œzangjiaao&lt;zangjiaao@yahoo.com&gt;ç”±å®¶æµ©åˆ›ä½œå¹¶ç»´æŠ¤çš„zangjiaao's blogåšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜Žå¤–ï¼Œå‡é‡‡ç”¨&quot;ç½²å-éžå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº«4.0(CC BY-NC-SA 4.0)å›½é™…è®¸å¯è¯&quot;ã€‚æœ¬æ–‡é¦–å‘äºŽzangjiaaoâ€™s blogåšå®¢ï¼Œè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ã€‚]]></content>
      <categories>
        <category>03_å·¥å…·æ‰‹å†Œ</category>
      </categories>
      <tags>
        <tag>vim</tag>
        <tag>é€ŸæŸ¥</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexoblogéƒ¨ç½²è®°å½•]]></title>
    <url>%2F2018%2F06%2F09%2FHexoblog%E9%83%A8%E7%BD%B2%E8%AE%B0%E5%BD%95%2F</url>
    <content type="text"><![CDATA[æ¦‚è¿°ï¼š è®°å½•æˆ‘æ˜¯å¦‚ä½•æ­å»ºè¿™ä¸ª&quot;å¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æž¶Hexo&quot;çš„â€¦ Hexoåšå®¢éƒ¨ç½²çŽ¯å¢ƒæ­å»ºä¾èµ–å®‰è£…åˆå§‹åŒ–æ›´æ–°ä¿®æ”¹ä¸»é¢˜NexThexo-theme-apolloå»ºç«‹Githubé¡¹ç›®å°†æºæ–‡ä»¶æ‰˜ç®¡åˆ°Githubæ›´æ–°é¡¹ç›®é…ç½®&amp;è¯´æ˜Žé…ç½®æ–‡ä»¶è¯´æ˜Žå‘½ä»¤è¡Œè¯´æ˜ŽåŸºæœ¬é…ç½®æ·»åŠ åˆ†ç±» &amp; æ ‡ç­¾æ·»åŠ å¤´åƒæ·»åŠ æ˜¾ç¤ºå½“å‰è¿›åº¦é…ç½®é¦–é¡µåªæ˜¾ç¤ºç®€ä»‹æ·»åŠ èµ„æºç›®å½•åŽ‹ç¼©é™æ€èµ„æºåŽ‹ç¼©é™æ€èµ„æº-ä½¿ç”¨gulpéƒ¨ç½²åˆ°GitHubè®©æ–‡ç« ä¾æ®updatedpæŽ’åºæ”¯æŒcheckboxåŠŸèƒ½æ‹“å±•ï¼ˆæŽ¨èï¼‰markdown-it-plus æ’ä»¶ï¼ˆä¸æŽ¨èï¼‰emojiæ”¯æŒï¼ˆä¸æŽ¨èï¼‰hexo-TOCemojié€ŸæŸ¥è¡¨404é¡µé¢æœç´¢ï¼ˆæœ¬åœ°ï¼‰æœç´¢ï¼ˆalgoliaï¼‰åˆ›å»ºæ–‡ç« æ—¶è‡ªåŠ¨æ‰“å¼€VSCodeæ·»åŠ è¯„è®ºåŠŸèƒ½æ·»åŠ é¡µé¢è½½å…¥è¿›åº¦æ¡å…¶ä»–åŠŸèƒ½å£°æ˜Ž çŽ¯å¢ƒæ­å»º ä¾èµ–å®‰è£…Gitå®‰è£…Node.jså¯å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚ å®‰è£…åªéœ€è¦ä½¿ç”¨npmå®‰è£…hexoï¼Œé»˜è®¤å¸¦serveräº†ï¼š1npm install -g hexo-cli åˆå§‹åŒ–åˆšæ‰å®‰è£…çš„é‚£äº›åªæ˜¯hexoçš„éƒ¨ç½²çŽ¯å¢ƒä»¥åŠç®¡ç†å‘½ä»¤ï¼Œä»¥ä¸‹æ‰æ˜¯çœŸæ­£çš„â€œå»ºç«™â€ï¼Œåˆå§‹åŒ–/åˆ›å»ºç«™ç‚¹æ–‡ä»¶ã€‚12cd hexo_bloghexo initðŸ“– è¯´æ˜Žï¼šå®˜æ–¹æ–‡æ¡£ä¸­è¿˜æœ‰ä¸€æ­¥npm installï¼Œå®žé™…åœ¨initæ—¶å€™å°±åšå¥½äº†ã€‚ æ›´æ–°æ›´æ–°hexoï¼Œåªéœ€npmå³å¯ã€‚12cd hexo_bloghexo update ä¿®æ”¹ä¸»é¢˜ NexTâš ï¸ æ³¨æ„ï¼š å¦‚æžœéœ€è¦å°†æ•´ä¸ªé¡¹ç›®æ‰˜ç®¡åˆ°Githubï¼Œå¯ä»¥æš‚æ—¶å¿½ç•¥æœ¬èŠ‚å†…å®¹ã€‚ç®€ä»‹è¯·ç§»æ­¥å®˜ç½‘ï¼Œä¼ é€é—¨ã€‚å®‰è£…:12cd hexo_bloggit clone https://github.com/theme-next/hexo-theme-next themes/nextæ›´æ–°:12cd themes/nextgit pullå¯ç”¨: ä¿®æ”¹ ç«™ç‚¹ çš„_config.ymlæ–‡ä»¶1theme: next hexo-theme-apolloæ ·å­ä¹Ÿéžå¸¸å°æ¸…æ–°,å®˜æ–¹ä¼ é€é—¨. å»ºç«‹Githubé¡¹ç›®ä¸ºäº†é˜²æ­¢è¾›è‹¦å†™å‡ºæ¥çš„æ–‡ç« ä¸ç¿¼è€Œé£žï¼ŒåŒæ—¶ä¹Ÿæƒ³ç”¨GitHubæŠŠæºç ç»´æŠ¤èµ·æ¥ï¼Œå› æ­¤å°†æºæ–‡ä»¶æ‰˜ç®¡åˆ°Githubã€‚å‚è€ƒTips for Hexo configurationå¤§ç¥žæ–‡ç« ã€‚ å°†æºæ–‡ä»¶æ‰˜ç®¡åˆ°Githubfork Nextç‚¹å³ä¸Šè§’çš„forkå³å¯ã€‚åˆå§‹åŒ–blogä¸ºgité¡¹ç›®12cd hexo_bloggit initåˆ›å»ºåˆ†æ”¯ï¼ˆæœ¬åœ°ï¼‰ï¼Œå¹¶åˆ‡æ¢123456789git checkout -b source# æŸ¥çœ‹æ˜¯ä¸æ˜¯è¿›å…¥äº†sourceåˆ†æ”¯git branch master *source# å¦‚æžœåˆ›å»ºé”™äº†ï¼Œå¯ä»¥åˆ é™¤git branch -D bad_branch# ä¹Ÿå¯ä»¥é‡å‘½ågit branch -m bad_branch good_branchå°†ä¹‹å‰forkçš„nextæ·»åŠ åˆ°submodule123456789101112131415# ä¸‹é¢çš„æ“ä½œä¼šå§themes/nextè·¯å¾„æ·»åŠ åˆ°submodulesä¸­# å¹¶ä¸”è¯†åˆ«å¦‚æžœç›®å½•ä¸å­˜åœ¨ä¼šè‡ªåŠ¨clonepwd hexo_blog/git submodule add git@github.com:billxllid/next.git themes/next# æ·»åŠ é”™äº†å¯ä»¥åˆ é™¤ï¼Œä¸è¿‡æ–¹æ³•éœ€è¦è‡ªè¡ŒæŸ¥æ‰¾ï¼Œå¹¶ä¸éš¾# åˆ›å»ºè‡ªå·±çš„nextåˆ†æ”¯ï¼Œåå­—éšä¾¿è®¾ç½®cd themes/nextgit checkout -b zangjiaao# ç„¶åŽå¯ä»¥éšä¾¿ä¿®æ”¹ä¸»é¢˜é…ç½®ä»€ä¹ˆçš„# ä¸Šä¼ åˆ†æ”¯git add .git commit -m "change configs"# åˆšæ‰è®¾ç½®çš„åˆ†æ”¯æ˜¯ä»€ä¹ˆè¿™å°±æ˜¯ä»€ä¹ˆgit push origin zangjiaaoä¸Šä¼ åˆ°åˆ†æ”¯ï¼ˆè¿œç«¯ï¼‰123456789pwd hexo_blog/git add .git commit -m "Initial"git remote add origin# æ·»åŠ è¿œç«¯ä»“åº“åœ°å€git@github.com:billxllid/blog.zangjiaao.cn.git# pushåˆ†æ”¯åˆ°è¿œç«¯git push origin source æ›´æ–°é¡¹ç›®æ›´æ–°next1234# æ–°çŽ¯å¢ƒæ‰éœ€è¦initgit submodule init# æ­£å¸¸updateå³å¯git submodule updateç›´æŽ¥æ›´æ–°masteråˆ†æ”¯ï¼Œè€ŒåŽmergeåˆ°è‡ªå·±çš„åˆ†æ”¯ä¸Šã€‚123456789101112131415161718pwd themes/nextgit branch *master zangjiaaogit remote add upstream https://github.com/theme-next/hexo-theme-next.gitgit remote -v origin https://github.com/billxllid/next.git (fetch) origin https://github.com/billxllid/next.git (push) upstream https://github.com/theme-next/hexo-theme-next.git (fetch) upstream https://github.com/theme-next/hexo-theme-next.git (push)# æŸ¥çœ‹masteræœ‰æ²¡æœ‰æ›´æ–°git fetch upstream# å¯ä»¥ç›´æŽ¥æ›´æ–°è¿œç«¯git pull upstream master# æˆ–è€…å…ˆmergeåˆ°æœ¬åœ°ï¼Œå†pushåˆ°è¿œç«¯git merge upstream/mastergit pushðŸ’¡ æŠ€å·§ï¼š å¯ä»¥åˆ°è‡ªå·±nexté¡¹ç›®çš„è‡ªå·±çš„åˆ†æ”¯åˆ›å»ºpullæ¥å¯¹æ¯”ä¸€ä¸‹upstreamï¼Œçœ‹å“ªé‡Œæœ‰ä¿®æ”¹ã€‚ é…ç½®&amp;è¯´æ˜Ž é…ç½®æ–‡ä»¶è¯´æ˜Ž_config.yml ç«™ç‚¹ä¸»è¦é…ç½®æ–‡ä»¶ã€‚package.json hexoæ‰€ä½¿ç”¨çš„ç»„ä»¶ä¿¡æ¯ã€‚scaffolds/ æ¨¡æ¿ç›®å½•ã€‚source/ èµ„æºç›®å½•ï¼ŒåŒ…å«åŽŸå§‹æ–‡ç« .mdä»¥åŠè§£æžåŽæ–‡ç« ï¼ˆä¿å­˜åœ¨publicç›®å½•ä¸‹ï¼‰ã€‚ å‘½ä»¤è¡Œè¯´æ˜Žhexo init åˆå§‹åŒ–ç«™ç‚¹æ–‡ä»¶hexo new [layout] &lt;title&gt; æŒ‰ç…§æ¨¡æ¿layoutåˆ›å»ºposthexo (g)enerate ç”Ÿæˆé™æ€æ–‡ä»¶-d åˆ›å»ºå®ŒåŽéƒ¨ç½²ï¼ˆä¸Šä¼ åˆ°gitï¼‰-w æ£€æŸ¥æ–‡ä»¶å˜åŠ¨hexo server å¯åŠ¨æœåŠ¡å™¨-p æŒ‡å®šç«¯å£ç»™-s åªä½¿ç”¨é™æ€æ–‡ä»¶-l è®°å½•æ—¥å¿—hexo deploy éƒ¨ç½²ï¼ˆä¸Šä¼ åˆ°gitï¼‰-g éƒ¨ç½²å‰ç”Ÿæˆé™æ€æ–‡ä»¶hexo clean æ¸…é™¤ç¼“å­˜æ–‡ä»¶ (db.json) å’Œå·²ç”Ÿæˆçš„é™æ€æ–‡ä»¶ (public)ðŸ’¡ æé†’ï¼š æ¯æ¬¡ä¿®æ”¹ ç«™ç‚¹ _config.yml æ–‡ä»¶åŽç”±äºŽhexoçš„ç¼“å­˜é—®é¢˜éœ€è¦åˆ·æ–°ã€‚ä¸€ç§åŠžæ³•æ˜¯hexo gé‡æ–°ç”Ÿæˆï¼Œå¥½å¤„æ˜¯ä¸ç”¨é‡å¯Serverï¼›å¦ä¸€ç§æ–¹æ³•æ˜¯hexo clean &amp; hexo serverï¼Œè¿™ç§æˆ‘è®¤ä¸ºæ›´å½»åº•ï¼Œä¸è¿‡æ¯”è¾ƒéº»çƒ¦å°±æ˜¯ã€‚æ›´å¤šè¯¦è§ æŒ‡ä»¤ ã€‚ åŸºæœ¬é…ç½®ç®€å•ä¿®æ”¹ï¼ˆæ ‡é¢˜ã€è¯­è¨€ã€æ—¶åŒºï¼‰12345678# Sitetitle: zangjiaao&apos;s blogsubtitle: æ»´æ°´ç©¿çŸ³...description: çº¸ä¸Šå¾—æ¥ç»ˆè§‰æµ…...keywords:author: jiahaolanguage: zh-CNtimezone: Asia/Shanghaiæ›´å¤šè¯¦è§ å®˜æ–¹æ–‡æ¡£ ã€‚ æ·»åŠ åˆ†ç±» &amp; æ ‡ç­¾åˆ›å»º:12345# åˆ†ç±»hexo new page categories# æ ‡ç­¾hexo new page tagsç¼–è¾‘: åœ¨index.mdä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹12345678910111213# åˆ†ç±»---title: categoriesdate: 2018-05-06 00:57:48type: &quot;categories&quot;---# æ ‡ç­¾---title: tagsdate: 2018-05-06 00:57:48type: &quot;tags&quot;--- æ·»åŠ å¤´åƒé…ç½®: åœ¨ ä¸»é¢˜ çš„_config.ymlä¸­æŸ¥æ‰¾avatarå¹¶ç¼–è¾‘ä¸ºä¸‹é¢çš„å†…å®¹ï¼ŒéšåŽä¸Šä¼ å¤´åƒæ–‡ä»¶è‡³ ç«™ç‚¹ çš„uploadså¹¶é‡å‘½åä¸ºavatar.gifã€‚1avatar: /uploads/avatar.gifðŸ“– è¯´æ˜Žï¼š æ”¾ä¸»é¢˜å¯¹åº”ç›®å½•ä¹Ÿå¯ä»¥ï¼Œå‚è€ƒä¸»é¢˜é…ç½®æ–‡ä»¶æ³¨é‡Šä¸­çš„è¯´æ˜Žã€‚ æ·»åŠ æ˜¾ç¤ºå½“å‰è¿›åº¦é…ç½®: åœ¨ ä¸»é¢˜ çš„_config.ymlä¸­æŸ¥æ‰¾scrollpercentå¹¶å°†å‚æ•°æ”¹ä¸ºtrueå³å¯ã€‚ é…ç½®é¦–é¡µåªæ˜¾ç¤ºç®€ä»‹é»˜è®¤æƒ…å†µé¦–é¡µæ˜¾ç¤ºçš„æ˜¯æ–‡ç« å…¨æ–‡ï¼Œä¸ºäº†æŸ¥çœ‹æ–¹ä¾¿å¯ä»¥ä¸ºé¦–é¡µé…ç½®é¢„è§ˆï¼ŒThanksToè¿™ç¯‡æ–‡ç« ã€‚ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼š123auto_excerpt: enable: true length: 150ä½†æ˜¯é»˜è®¤ä¼šæŠŠæ•°æ®æ ¼å¼æˆæ— æ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œå¾ˆæ˜¯ä¸‘é™‹ã€‚é…ç½®æ–‡ä»¶ä¸Šå…¶å®žè¯´æ˜Žäº†ï¼Œéœ€è¦åœ¨æ–‡ç« ä¸­ç”¨ä¸‹é¢çš„æ³¨é‡Šåˆ†å‰²ä½ æƒ³è¦æ˜¾ç¤ºçš„éƒ¨åˆ†ã€‚12345å¸Œæœ›åœ¨é¦–é¡µçœ‹åˆ°çš„éƒ¨åˆ†..&lt;!-- more --&gt;ä¸å¸Œæœ›åœ¨é¦–é¡µçœ‹åˆ°çš„éƒ¨åˆ†.. æ·»åŠ èµ„æºç›®å½•èµ„æºæ–‡ä»¶ä¸»è¦ç”¨æ¥å­˜æ”¾ä¾‹å¦‚å›¾ç‰‡ã€CSSã€JSç­‰æ–‡ä»¶ã€‚å¦‚æžœæ•°é‡ä¸å¤šï¼Œå¯ä»¥æ”¾åœ¨source/imagesæ–‡ä»¶å¤¹ä¸­ï¼Œé€šè¿‡![](/images/image.jpg)å¼•ç”¨å®ƒä»¬ã€‚ä½†æ˜¯è¿™æ ·èµ„æºæ–‡ä»¶æ—¶é—´ä¸€é•¿è¿˜æ˜¯ä¼šæ¯”è¾ƒéš¾ç®¡ç†ï¼Œæ‰€ä»¥éœ€è¦å¼€å¯â€œæ–‡ç« èµ„æºæ–‡ä»¶å¤¹â€åŠŸèƒ½ã€‚ä¿®æ”¹ç«™ç‚¹é…ç½®ï¼š12# _config.ymlpost_asset_folder: trueå¼€å¯åŽï¼Œé€šè¿‡hexo newåˆ›å»ºæ–‡ç« æ—¶ï¼Œä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªåŒåç›®å½•ç”¨äºŽå­˜æ”¾èµ„æºæ–‡ä»¶ã€‚ä½†æ˜¯ä½¿ç”¨markdownè¯­æ³•ç›´æŽ¥å¼•ç”¨ç«™ç‚¹é¦–é¡µæ— æ³•æ˜¾ç¤ºçš„ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨ä¸‹é¢çš„è¯­æ³•ã€‚1234&#123;% asset_path xxx %&#125;&#123;% asset_img xxx [title] %&#125;&lt;!-- ç”¨äºŽå¼•ç”¨js --&gt;&#123;% asset_link xxx [title] %&#125;å…·ä½“å¯å‚è€ƒå®˜æ–¹ï¼šèµ„æºæ–‡ä»¶å¤¹ã€‚ åŽ‹ç¼©é™æ€èµ„æºç”±äºŽhexoåœ¨ç”Ÿæˆé™æ€æ–‡ä»¶æ—¶ä¼šäº§ç”Ÿå¾ˆå¤šç©ºè¡Œï¼Œä½¿ç”¨chenzhutian/hexo-all-minifieræ’ä»¶æ¥åŽ‹ç¼©è¿™äº›æ–‡ä»¶ã€‚å®‰è£…ï¼š1npm install hexo-all-minifier --saveå¯¹äºŽmacç”¨æˆ·è¿˜éœ€è¦å®‰è£…ä¸‹é¢çš„ä¾èµ–ï¼š1brew install libtool automake autoconf nasmé…ç½®ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼š1all_minifier: trueå¹¶ä¸”è¯¥æ’ä»¶è¿˜æ”¯æŒé…ç½®éœ€è¦åŽ‹ç¼©çš„å…¶ä»–å†…å®¹ï¼Œå¯ä»¥åœ¨å®˜æ–¹æ–‡æ¡£ä¸­æŸ¥çœ‹ã€‚ åŽ‹ç¼©é™æ€èµ„æº-ä½¿ç”¨gulpå¶é‡ä¸€å¤§ä½¬ä½¿ç”¨è¿™ä¸ªåŠžæ³•è¿›è¡ŒåŽ‹ç¼©ï¼Œæ„Ÿè§‰å¾ˆç»™åŠ›çš„æ ·å­ã€‚ç”±äºŽæˆ‘æ²¡æœ‰è¯•è¿‡ï¼Œè¿™é‡Œåˆ†äº«ä¸€ä¸‹é“¾æŽ¥ï¼šTips for Hexo configurationã€‚ éƒ¨ç½²åˆ°GitHubä¿èƒ½å¤Ÿæ­£å¸¸pushé¡¹ç›®åŽï¼ŒæŒ‰ç…§ä¸‹é¢æ–¹æ³•è¿›è¡Œéƒ¨ç½²ã€‚ä¿®æ”¹ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼š12345678deploy: type: git repo: https://github.com/billxllid/billxllid.github.io.git branch: master message: Update name: billxllid email: zangjiaao@yahoo.com ignore_hidden: trueç”Ÿæˆé™æ€æ–‡ä»¶ï¼š å»ºè®®å…ˆhexo cleanæ¸…ç†ä¸€ä¸‹æ—§æ•°æ®ã€‚12hexo cleanhexo generateðŸ“– è¯´æ˜Žï¼š æœ‰æ—¶å€™ä¿®æ”¹æ–‡ä»¶åã€åˆ é™¤åˆ†ç±»æˆ–è€…æ ‡ç­¾ï¼Œé¡µé¢ä¸Šçš„è®¡æ•°ã€åˆ—è¡¨ä¼šå¼‚å¸¸ï¼ˆè®¡æ•°åŠ 1ï¼Œåˆ†ç±»æ²¡æœ‰åˆ é™¤æ”¹åä¹‹å‰çš„æ–‡ç« æ ‡é¢˜ï¼‰ï¼Œè¿™æ—¶å€™ä½¿ç”¨cleanå°±èƒ½è§£å†³äº†ã€‚éƒ¨ç½²åˆ°Githubï¼š1hexo deployè¿‡ä¸€ä¼šå°±èƒ½å¤Ÿè®¿é—®äº†ï¼ˆgithubéœ€è¦ä¸€æ®µæ—¶é—´å¤„ç†ï¼‰ã€‚å¦‚æžœæœ‰è‡ªå·±åŸŸåçš„åŒå­¦ï¼Œå¯ä»¥å°†åŸŸååŠ ä¸€æ¡CNAMEåˆ°ä½ å¾—gitioä¸Šé¢ï¼Œç„¶åŽåœ¨é¡¹ç›®è®¾ç½®é‡Œé…ç½®ä¸€ä¸‹ã€‚ è®©æ–‡ç« ä¾æ®updatedpæŽ’åºå®‰åˆ©åšä¸»,æˆ‘å‚è€ƒè¿™ç¯‡æ–‡ç« Hexoæ–‡ç« æŒ‰ç…§æ›´æ–°æ—¶é—´æŽ’åºÂ·LevelUp.å…¶å®žåªéœ€è¦ä¸ºæ¨¡æ¿scaffolds/post.mdä¸­æ·»åŠ é…ç½®å¤´éƒ¨å³å¯,ç±»ä¼¼å¦‚ä¸‹:12345678910---title: &#123;&#123; title &#125;&#125;date: &#123;&#123; date &#125;&#125;# è¦æ’å…¥updatedæ—¶é—´, VSCodeä¸­å®‰è£…`Insert Date String`# OS X æŒ‰ â‡§ + âŒ˜ + Iï¼ŒWindows å’Œ Linux æŒ‰ Ctrl + Shift + Iupdated:categories: ""tags: ----éšåŽ,éœ€è¦ä¿®æ”¹ä¸»é…ç½®æ–‡ä»¶_comfig.ymlä¸­æŽ’åºæ–¹å¼1234index_generator: path: '' per_page: 10 order_by: -updated # é»˜è®¤-dateæ¯æ¬¡æ›´æ–°æ–‡ç« éœ€è¦æ‰‹åŠ¨æ·»åŠ updatedæ—¶é—´,å¦‚æžœä½ ç”¨VSCodeå°±æ²¡è¿™ä¹ˆéº»çƒ¦äº†.åªéœ€è¦å®‰è£…Insert Date Stringå³å¯.Mac OS X æŒ‰ â‡§ + âŒ˜ + Iï¼ŒWindows å’Œ Linux æŒ‰ Ctrl + Shift + Iå¿«æ·é”®æ’å…¥å¾ˆçˆ½. æ”¯æŒcheckboxæ›´æ–°äºŽ: 2018-08-22 02:40:23ç”±äºŽä½¿ç”¨äº†hexo-renderer-markdown-it-plusæ’ä»¶å¯¼è‡´ä¸è¯†åˆ«task_listè¯­æ³•, å¯¼è‡´å†™TODOçš„æ—¶å€™ä¸å¤ªèˆ’æœ, å…¶å®žè¿™ä¸ªæ’ä»¶è‡ªå·±æ”¯æŒå®‰è£…markdown-itæ’ä»¶çš„, å®˜æ–¹ä¸‹é¢æœ‰è¯´æ˜Žè¯­æ³•æ ¼å¼.å®‰è£…: markdown-it-task-checkbox1npm install markdown-it-task-checkbox --saveä½¿èƒ½: ä¿®æ”¹hexoçš„_config.ymlé…ç½®123456789101112131415markdown_it_plus: highlight: true html: true xhtmlOut: true breaks: true langPrefix: linkify: true typographer: quotes: â€œâ€â€˜â€™ pre_class: highlight # æ–°å¢žä¸‹é¢å†…å®¹ plugins: - plugin: name: markdown-it-task-checkbox enable: true åŠŸèƒ½æ‹“å±• ï¼ˆæŽ¨èï¼‰markdown-it-plus æ’ä»¶è¿™ä¸ªæ’ä»¶æ”¯æŒTOCå’Œemojiç‰¹æ€§ï¼Œè€Œä¸”ä¸éœ€è¦ä¸ºäº†è¿½æ±‚ä¸ŽNextçš„å…¼å®¹æ€§åŽ»ä¿®æ”¹é…ç½®ã€‚åŒæ—¶è¿˜å…¼å®¹subã€supä¹Ÿå°±æ˜¯è§’æ ‡ã€Katexå…¬å¼ã€insä¸‹åˆ’çº¿å’Œåˆ é™¤çº¿æ¸²æŸ“ï¼Œå¯è§å¼ºå¤§ï¼Œå› æ­¤æŽ¨èã€‚äº†è§£æ›´å¤šã€‚å®‰è£…: åœ¨ç«™ç‚¹ç›®å½•hexo_blogæ‰§è¡Œ12npm un hexo-renderer-marked --savenpm i hexo-renderer-markdown-it-plus --saveé…ç½®: ä¿®æ”¹ ç«™ç‚¹ çš„config.ymlæ–‡ä»¶12345678910markdown_it_plus: highlight: true html: true xhtmlOut: true breaks: true langPrefix: linkify: true typographer: quotes: â€œâ€â€˜â€™ pre_class: highlight ï¼ˆä¸æŽ¨èï¼‰emojiæ”¯æŒåˆ‡æ¢æ¸²æŸ“: å› ä¸ºhexo-renderer-markedä¸æ”¯æŒï¼ˆå®žé™…æ˜¯æ”¯æŒçš„crimx/hexo-filter-github-emojiså¤ªä¸‘äº†ï¼‰ï¼Œå›ºæ”¹ç”¨markdown-itæ¸²æŸ“12npm un hexo-renderer-marked --savenpm i hexo-renderer-markdown-it --saveå®‰è£…:1npm install markdown-it-emoji --saveé…ç½®: æ³¨æ„è¿™é‡Œä¿®æ”¹çš„æ˜¯ ç«™ç‚¹ çš„_config.yml123456789101112131415161718192021markdown: render: html: true xhtmlOut: false breaks: true linkify: true typographer: true quotes: &apos;â€œâ€â€˜â€™&apos; plugins: - markdown-it-abbr - markdown-it-footnote - markdown-it-ins - markdown-it-sub - markdown-it-sup - markdown-it-emoji #ç”¨emojiæ’ä»¶ anchors: level: 1 collisionSuffix: &apos;v&apos; permalink: true permalinkClass: header-anchor permalinkSymbol: &apos;&apos; #è®¾ç½®&apos;Â¶&apos;ä¼šå¯¼è‡´é¡µé¢ä¸­æ˜¾ç¤ºå‡ºé”™æ›´å¤šè¯¦è§ Hexoæ·»åŠ emoji | Very9s ã€‚ ï¼ˆä¸æŽ¨èï¼‰hexo-TOCæ’ä»¶bubkoo/hexo-tocä¸ŽNextä¸»é¢˜æœ‰æžå¤§çš„å†²çªï¼Œå®‰è£…ä¹‹åŽå°†å¯¼è‡´**ä¾§è¾¹ç›®å½•å¤±æ•ˆï¼ï¼**ä¸æŽ¨èå®‰è£…ã€‚è‹¥è¿«ä¸å¾—å·²éœ€è¦å®‰è£…ä¹Ÿå¯ä¾æ®ä¸‹é¢å†…å®¹è°ƒæ•´ã€‚å¼¥è¡¥æ–¹æ³•: é€šè¿‡å°†${blog_root}/node_modules/hexo-toc/lib/filter.jsä¸­çš„28è¡Œ~31è¡Œæ”¹ä¸ºä¸‹é¢å†…å®¹ã€‚1234$title.attr(&apos;id&apos;, id);// $title.children(&apos;a&apos;).remove();// $title.html( &apos;&lt;span id=&quot;&apos; + id + &apos;&quot;&gt;&apos; + $title.html() + &apos;&lt;/span&gt;&apos; );// $title.removeAttr(&apos;id&apos;);éšåŽè¿˜éœ€è¦æ›¿æ¢â€™markdown-itâ€™ï¼Œè¯·è§ä¸Šä¸€ç« èŠ‚ç›¸å…³å®‰è£…æ–¹æ³•ï¼Œå¹¶ä¿®æ”¹hexo-tocçš„é…ç½®ä¸ºï¼š123456789toc: maxdepth: 3 class: toc slugify: transliteration decodeEntities: false anchor: position: after symbol: &apos;&apos; #ä¸»è¦åˆ é™¤äº†symbol style: header-anchoræ›´å¤šè¯¦è§ Content's link show 'undefine' Â· Issue #11 Â· YenYuHsuan/hexo-theme-beantech ä¸­@fawks96çš„å›žç­”ã€‚ emojié€ŸæŸ¥è¡¨ðŸ˜‚Emoji cheat sheet for GitHub, Basecamp and other services 404é¡µé¢ç›´æŽ¥åˆ›å»ºsource/404.htmlæ–‡ä»¶å³å¯ï¼Œæˆ‘ç›´æŽ¥æŠŠè°·æ­Œæ–‡å­—çš„é”™è¯¯é¡µé¢æ‹”äº†ä¸‹æ¥æ”¹äº†æ”¹ï¼Œæ„Ÿè§‰æŒºæœ‰â€œwindowsâ€é”™è¯¯é¡µé¢çš„é£Žæ ¼ï¼Œé¡µé¢æºç å¦‚ä¸‹ï¼š12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091ayout: falsetitle: "404"---&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt; &lt;meta content="text/html; charset=utf-8" http-equiv="Content-Type"&gt; &lt;title&gt;Oops!&lt;/title&gt; &lt;style type="text/css"&gt; * &#123; padding: 0; margin: 0; &#125; html &#123; overflow-y: scroll; &#125; body &#123; background: #fff; font-family: 'å¾®è½¯é›…é»‘'; color: #333; font-size: 16px; &#125; img &#123; border: 0; &#125; .error &#123; padding: 24px 48px; &#125; .face &#123; font-size: 100px; font-weight: normal; line-height: 120px; margin-bottom: 12px; &#125; h1 &#123; font-size: 32px; line-height: 48px; &#125; .error .content &#123; padding-top: 10px &#125; .error .info &#123; margin-bottom: 12px; &#125; .error .info .title &#123; margin-bottom: 3px; &#125; .error .info .title h3 &#123; color: #000; font-weight: 700; font-size: 16px; &#125; .error .info .text &#123; line-height: 24px; &#125; .copyright &#123; padding: 12px 48px; color: #999; &#125; .copyright a &#123; color: #000; text-decoration: none; &#125; &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;div class="error"&gt; &lt;p class="face"&gt;:(&lt;/p&gt; &lt;h1&gt;æ‰¾ä¸åˆ°æŒ‡å®šæ–‡ä»¶...&lt;/h1&gt; &lt;div class="title"&gt; &lt;h3&gt;&amp;nbsp;&lt;/h3&gt; &lt;/div&gt; &lt;div class="text"&gt; &lt;p&gt;é”™è¯¯ä»£ç ï¼š404. &lt;/p&gt; &lt;/div&gt; æœç´¢ï¼ˆæœ¬åœ°ï¼‰å®‰è£…: ç«™ç‚¹æ ¹ç›®å½•ä¸‹æ‰§è¡Œ1npm install hexo-generator-searchdb --saveé…ç½®1: ç«™ç‚¹_config.ymlä¸­ä¿®æ”¹12345search: path: search.xml field: post format: html limit: 10000é…ç½®2: ä¸»é¢˜_config.ymlä¸­ä¿®æ”¹123456789# Local search# Dependencies: https://github.com/flashlab/hexo-generator-searchlocal_search: enable: true # if auto, trigger search by changing input # if manual, trigger search by pressing enter key or search button trigger: auto # show top n results per article, show all results by setting to -1 top_n_per_article: 1 æœç´¢ï¼ˆalgoliaï¼‰æœ¬åœ°è§£æžserver.xmlå‡ºçŽ°é—®é¢˜ï¼Œå¯¼è‡´æœ¬åœ°æœç´¢åŠŸèƒ½å¤±æ•ˆï¼Œæ²¡åŠžæ³•åªå¥½é‡‡ç”¨çº¿ä¸Šæœç´¢æ¨¡å¼ã€‚é…ç½®æ–¹æ³•å¯å‚è€ƒtheme-next/hexo-theme-nextã€‚æ³¨å†Œalgoliaè´¦å·ï¼šè®¿é—®Algoliaå®˜ç½‘æ³¨å†Œä¸€ä¸ªè´¦å·ã€‚èŽ·å–IDï¼šå…¶ä¸­Application IDå’ŒSearch-only API keyéœ€è¦åœ¨ä¸‹å›¾ä¸­èŽ·å–ã€‚indexNameéœ€è¦è‡ªå·±è®¾ç½®ï¼šç„¶åŽç«™ç‚¹é…ç½®æ–‡ä»¶éœ€è¦ä»¥ä¸‹å‚æ•°ï¼š12345algolia: applicationID: 'Application ID' apiKey: 'Search-only API key' indexName: 'indexName' chunkSize: 5000ç”Ÿæˆæ•°æ®ï¼šå¯¹ï¼Œæ²¡é”™ï¼Œæ‰‹åŠ¨ç”Ÿæˆâ€¦ä¸è¿‡æ™šäº†å¯ä»¥å†™ä¸ªè„šæœ¬ä¹‹ç±»çš„ï¼Œå…¶å®žæ— éžå°±æ˜¯æ¯æ¬¡éœ€è¦æ‰§è¡Œä¸¤æ¡å‘½ä»¤è€Œå·²ã€‚1234# å…¶ä¸­çš„API Keyå°±æ˜¯ä¸Šé¢çš„export HEXO_ALGOLIA_INDEXING_KEY=Search-Only API keyhexo cleanhexo algoliaå®‰è£…nextæ’ä»¶ï¼š12cd themes/nextgit clone https://github.com/theme-next/theme-next-algolia-instant-search source/lib/algolia-instant-searché…ç½®CDN: ç¼–è¾‘ä¸»é¢˜çš„é…ç½®æ–‡ä»¶ã€‚1234567vendors: ... # Internal version: 1 # https://www.algolia.com algolia_instant_js: https://cdn.jsdelivr.net/npm/instantsearch.js@2.4.1/dist/instantsearch.js algolia_instant_css: https://cdn.jsdelivr.net/npm/instantsearch.js@2.4.1/dist/instantsearch.min.css ...æ‰“å¼€åŠŸèƒ½ï¼š æœ€åŽä¸€æ­¥æ˜¯åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­å¼€å¯ã€‚123456789# Algolia Searchalgolia_search: enable: true hits: per_page: 10 labels: input_placeholder: Search for Posts hits_empty: "We didn't find any results for the search: $&#123;query&#125;" hits_stats: "$&#123;hits&#125; results found in $&#123;time&#125; ms" åˆ›å»ºæ–‡ç« æ—¶è‡ªåŠ¨æ‰“å¼€VSCodeè¯·å‚è€ƒè¯¥æ–‡ç« new æ—¶è‡ªåŠ¨æ‰“å¼€ VSCodeã€‚ æ·»åŠ è¯„è®ºåŠŸèƒ½ç»è¿‡æµ‹è¯•ï¼Œå¤šè¯´ï¼Œæ¥å¿…è¾¾éƒ½ä¸å¤Ÿå‹å¥½ï¼Œå‘çŽ°å…¶ä»–åšå®¢ä¸Šä½¿ç”¨â€œgitmentâ€ä»¥åŠâ€œHypercommentsâ€ä½œä¸ºè¯„è®ºè§£å†³æ–¹æ¡ˆï¼Œè¯•äº†ä»¥ä¸‹éžå¸¸ç»™åŠ›ã€‚å®˜ç½‘åœ¨è¿™é‡Œï¼Œç™»å½•ä½¿ç”¨è°·æ­Œï¼Œæ‰€ä»¥è‡ªå¤‡æ¢¯å­ã€‚æ³¨å†Œï¼Œå¹¶èŽ·å–èŽ·å–IDæ³¨å†Œè¿™é‡Œå°±ä¸ç»†è¯´äº†ï¼ŒèŽ·å–IDéœ€è¦åˆ°ï¼šsettiong - Widget - codeçš„widget_idå€¼ã€‚ç¼–è¾‘ä¸»é¢˜é…ç½®æ–‡ä»¶12# Hypercommentshypercomments_id: xxxxxxè¿˜æœ‰å¦ä¸€ç§æ–¹å¼ï¼Œä¸è¿‡æ²¡æœ‰ç”¨è¿‡ï¼Œä½†æ˜¯å¥½å¤šäººéƒ½åœ¨ç”¨ï¼šValineï¼Œä»¥åŽå¯ä»¥å¯¹æ¯”ä¸€ä¸‹ã€‚ æ·»åŠ é¡µé¢è½½å…¥è¿›åº¦æ¡Nextä¸»é¢˜åŽŸç”Ÿæ”¯æŒï¼Œä¿®æ”¹ä¸»é¢˜é…ç½®å¼€å¯å³å¯ã€‚123456789101112131415161718pace: true# Themes list:#pace-theme-big-counter#pace-theme-bounce#pace-theme-barber-shop#pace-theme-center-atom#pace-theme-center-circle#pace-theme-center-radar#pace-theme-center-simple#pace-theme-corner-indicator#pace-theme-fill-left#pace-theme-flash#pace-theme-loading-bar#pace-theme-mac-osx#pace-theme-minimal# For example# pace_theme: pace-theme-center-simplepace_theme: pace-theme-flashæ›´è¯¦ç»†è¯´æ˜Žå¯å‚è€ƒï¼štheme-next/theme-next-paceã€‚ å…¶ä»–åŠŸèƒ½æ’å…¥éŸ³ä¹Hexo+Nextä¸»é¢˜ä¼˜åŒ–ã€‚APlayerHexoåšå®¢ä¸­æ’å…¥éŸ³ä¹ å£°æ˜Žç‰ˆæƒï¼š 2018-nowï¼ŒðŸ‡¨ðŸ‡³ï¼Œzangjiaao&lt;zangjiaao@yahoo.com&gt;ç”±å®¶æµ©åˆ›ä½œå¹¶ç»´æŠ¤çš„zangjiaao's blogåšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜Žå¤–ï¼Œå‡é‡‡ç”¨&quot;ç½²å-éžå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº«4.0(CC BY-NC-SA 4.0)å›½é™…è®¸å¯è¯&quot;ã€‚æœ¬æ–‡é¦–å‘äºŽzangjiaaoâ€™s blogåšå®¢ï¼Œè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ã€‚]]></content>
      <categories>
        <category>02_çŽ¯å¢ƒæ­å»º</category>
      </categories>
  </entry>
</search>
